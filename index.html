<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>USCash 🎮</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/chessboard-1.0.0.min.css" />
<style>
:root {
--primary: #1E3A8A;
--secondary: #2563EB;
--dark: #0A0A0A;
--light: #FFFFFF;
--accent: #FF6347;
--gold: #FFD700;
}
body {
font-family: 'Poppins', sans-serif;
background-color: var(--dark);
color: var(--light);
text-align: center;
margin: 0;
padding: 0;
background-image:
radial-gradient(circle at 10% 20%, rgba(30, 58, 138, 0.1) 0%, transparent 20%),
radial-gradient(circle at 90% 80%, rgba(37, 99, 235, 0.1) 0%, transparent 20%);
}
h1 {
font-size: 2.8rem;
background: linear-gradient(90deg, var(--secondary), var(--primary), var(--secondary));
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
text-shadow: 0 0 10px rgba(37, 99, 235, 0.3);
margin: 20px 0;
letter-spacing: 2px;
position: relative;
display: inline-block;
}
h1::after {
content: '';
position: absolute;
bottom: -10px;
left: 0;
width: 100%;
height: 3px;
background: linear-gradient(90deg, transparent, var(--secondary), transparent);
}
  }
.nav {
background: linear-gradient(90deg, var(--dark), var(--primary), var(--dark));
color: var(--light);
padding: 12px;
display: flex;
justify-content: space-around;
flex-wrap: wrap;
box-shadow: 0 4px 12px rgba(30, 58, 138, 0.2);
position: relative;
z-index: 100;
}
.nav a {
color: var(--light);
text-decoration: none;
font-weight: bold;
padding: 8px 15px;
border-radius: 20px;
transition: all 0.3s;
font-size: 1.1rem;
}
.nav a:hover {
background-color: var(--primary);
color: var(--light);
transform: translateY(-3px);
box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}
.section {
margin: 30px auto;
padding: 25px;
max-width: 900px;
border: 2px solid var(--primary);
border-radius: 15px;
box-sizing: border-box;
background-color: rgba(10, 10, 10, 0.8);
box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
position: relative;
overflow: hidden;
}
.section::before {
content: '';
position: absolute;
top: -2px;
left: -2px;
right: -2px;
bottom: -2px;
border: 2px solid transparent;
border-image: linear-gradient(45deg, var(--primary), var(--secondary)) 1;
z-index: -1;
animation: borderRotate 8s linear infinite;
}
@keyframes borderRotate {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}
.gold-box {
display: inline-block;
background: linear-gradient(145deg, var(--secondary), var(--primary));
color: var(--light);
margin: 8px;
padding: 12px 20px;
border-radius: 12px;
cursor: pointer;
font-size: 1.1rem;
font-weight: bold;
transition: all 0.3s;
box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
border: none;
}
.gold-box:hover {
transform: translateY(-5px);
box-shadow: 0 8px 16px rgba(37, 99, 235, 0.3);
background: linear-gradient(145deg, var(--secondary), var(--primary));
}
.gold-box.active {
background: var(--dark);
color: var(--secondary);
border: 2px solid var(--secondary);
box-shadow: 0 0 15px var(--secondary);
}
.game-options {
display: grid;
grid-template-columns: repeat(2, 1fr);
gap: 15px;
align-items: center;
justify-content: center;
padding: 20px 0;
}
.game-options .gold-box {
width: 100%;
height: 180px;
font-size: 1.4rem;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
border: 2px solid var(--secondary);
box-shadow: 0 0 20px rgba(37, 99, 235, 0.3);
transition: all 0.3s ease;
position: relative;
overflow: hidden;
background-size: cover;
background-position: center;
text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
}
.game-options .gold-box::before {
content: '';
position: absolute;
top: 0;
left: 0;
right: 0;
bottom: 0;
background: rgba(0, 0, 0, 0.4);
z-index: 0;
}
.game-options .gold-box > * {
position: relative;
z-index: 1;
}
.game-options .gold-box:hover {
transform: scale(1.05);
box-shadow: 0 0 30px var(--secondary);
}
.game-options .gold-box i {
font-size: 3rem;
margin-bottom: 15px;
color: var(--secondary);
text-shadow: 0 0 10px rgba(37, 99, 235, 0.8);
}
font-size: 3rem;
margin-bottom: 15px;
color: var(--secondary);
text-shadow: 0 0 10px rgba(37, 99, 235, 0.8);
}
/* Game specific thumbnails */
.scratch-thumbnail {
background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMDAgMjAwIiBmaWxsPSJub25lIj48cGF0aCBkPSJNNDAgNDBIMTYwVjE2MEg0MFY0MFoiIGZpbGw9IiMxRTNBOEEiIHN0cm9rZT0iIzI1NjNFQiIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3QgeD0iNjAiIHk9IjYwIiB3aWR0aD0iODAiIGhlaWdodD0iODAiIGZpbGw9IiMyNTYzRUIiLz48Y2lyY2xlIGN4PSIxMDAiIGN5PSIxMDAiIHI9IjMwIiBmaWxsPSIjMUUzQThBIi8+PHBhdGggZD0iTTgwIDgwTDEyMCAxMjBNMTIwIDgwTDgwIDEyMCIgc3Ryb2tlPSIjMjU2M0VCIiBzdHJva2Utd2lkdGg9IjQiLz48L3N2Zz4=');
}
.fruit-thumbnail {
background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMDAgMjAwIj48cGF0aCBkPSJNMTUwIDEwMEMxNTAgNzIgMTI4IDUwIDEwMCA1MEM3MiA1MCA1MCA3MiA1MCAxMDBTNzIgMTUwIDEwMCAxNTBTMTUwIDEyOCAxNTAgMTAwWiIgZmlsbD0iI0ZGMDAwMCIvPjxwYXRoIGQ9Ik0xMjAgOTBDMTIwIDcyIDEwNiA2MCA5MCA2MEM3NCA2MCA2MCA3MiA2MCA5MFM3NCAxMjAgOTAgMTIwUzEyMCAxMDggMTIwIDkwWiIgZmlsbD0iIzI1NjNFQiIvPjxwYXRoIGQ9Ik04NSA3NUw3NSA4NUw4NSA4NUw3NSA3NSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTE1IDk1TDEwNSAxMDVNMTE1IDEwNUwxMDUgOTUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIyIi8+PHBhdGggZD0iTTkwIDQwVjYwTTExMCA0MFY2MCIgc3Ryb2tlPSIjMDA4MDAwIiBzdHJva2Utd2lkdGg9IjQiLz48L3N2Zz4=');
}
.tictactoe-thumbnail {
background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMDAgMjAwIj48cGF0aCBkPSJNNjcgNjdoNjZ2NjZINjdaTTY3IDY3aDY2djY2SDY3WiIgZmlsbD0iIzFFM0E4QSIgZmlsbC1vcGFjaXR5PSIwLjEiLz48cGF0aCBkPSJNMTAwIDMzVjE2N00zMyAxMDBIMTY3IiBzdHJva2U9IiMxRTNBOEEiIHN0cm9rZS13aWR0aD0iNCIvPjxwYXRoIGQ9Ik02NyA2N0wxMzMgMTMzTTY3IDEzM0wxMzMgNjciIHN0cm9rZT0iIzI1NjNFQiIgc3Ryb2tlLXdpZHRoPSI2Ii8+PC9zdmc+');
}
.findace-thumbnail {
background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMDAgMjAwIj48cGF0aCBkPSJNNDAgNDBIMTYwVjE2MEg0MFY0MFoiIGZpbGw9IiMxRTNBOEEiLz48cGF0aCBkPSJNNjAgNjBIMTQwVjE0MEg2MFY2MFoiIGZpbGw9IiMyNTYzRUIiLz48cGF0aCBkPSJNODAgODBIMTIwVjEyMEg4MFY4MFoiIGZpbGw9IiMxRTNBOEEiLz48cGF0aCBkPSJNODUgODVIMTE1VjExNUg4NVY4NVoiIGZpbGw9IiMyNTYzRUIiLz48cGF0aCBkPSJNOTAgOTBIMTExVjExMEg5MFY5MFoiIGZpbGw9IiMxRTNBOEEiLz48cGF0aCBkPSJNOTUgOTVIMTA1VjEwNUg5NVY5NVoiIGZpbGw9IiMyNTYzRUIiLz48cGF0aCBkPSJNMTAwIDEwMEgxMDBWMTAwSDEwMFoiIGZpbGw9IiMxRTNBOEEiLz48L3N2Zz4=');
}
.archery-thumbnail {
background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMDAgMjAwIj48Y2lyY2xlIGN4PSIxMDAiIGN5PSIxMDAiIHI9IjgwIiBmaWxsPSIjMjU2M0VCIi8+PGNpcmNsZSBjeD0iMTAwIiBjeT0iMTAwIiByPSI2MCIgZmlsbD0iIzFFM0E4QSIvPjxjaXJjbGUgY3g9IjEwMCIgY3k9IjEwMCIgcj0iNDAiIGZpbGw9IiMwMDgwMDAiLz48Y2lyY2xlIGN4PSIxMDAiIGN5PSIxMDAiIHI9IjIwIiBmaWxsPSIjRkYwMDAwIi8+PGNpcmNsZSBjeD0iMTAwIiBjeT0iMTAwIiByPSIxMCIgZmlsbD0iIzI1NjNFQiIvPjxwYXRoIGQ9Ik0xODAgMTAwSDE2ME0xNjAgMTAwSDE0ME0xNDAgMTAwSDEyME0xMjAgMTAwSDEwME0xMDAgMTAwSDgwTTgwIDEwMEg2ME02MCAxMDBINDBNNDAgMTAwSDIwIiBzdHJva2U9IiMxRTNBOEEiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik0xODAgMTAwSDE2ME0xNjAgMTAwSDE0ME0xNDAgMTAwSDEyME0xMjAgMTAwSDEwME0xMDAgMTAwSDgwTTgwIDEwMEg2ME02MCAxMDBINDBNNDAgMTAwSDIwIiBzdHJva2U9IiMxRTNBOEEiIHN0cm9rZS13aWR0aD0iMiIgdHJhbnNmb3JtPSJyb3RhdGUoOTAgMTAwIDEwMCkiLz48cGF0aCBkPSJNMTcwIDEwMEgxMzBNMzAgMTAwSDcwIiBzdHJva2U9IiMxRTNBOEEiIHN0cm9rZS13aWR0aD0iMiIgdHJhbnNmb3JtPSJyb3RhdGUoNDUgMTAwIDEwMCkiLz48cGF0aCBkPSJNMTcwIDEwMEgxMzBNMzAgMTAwSDcwIiBzdHJva2U9IiMxRTNBOEEiIHN0cm9rZS13aWR0aD0iMiIgdHJhbnNmb3JtPSJyb3RhdGUoMTM1IDEwMCAxMDApIi8+PC9zdmc+');
}
.card-grid {
display: flex;
flex-wrap: wrap;
justify-content: center;
gap: 15px;
margin: 20px auto;
max-width: 450px;
}
.card {
width: 90px;
height: 110px;
background-color: white;
color: black;
font-size: 2.2rem;
display: flex;
align-items: center;
justify-content: center;
border: 2px solid var(--secondary);
border-radius: 10px;
cursor: pointer;
transition: transform 0.4s, background-color 0.3s;
box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
background-size: cover;
background-position: center;
position: relative;
transform-style: preserve-3d;
}
.card .front, .card .back {
position: absolute;
width: 100%;
height: 100%;
backface-visibility: hidden;
display: flex;
align-items: center;
justify-content: center;
border-radius: 8px;
}
.card .front {
background: linear-gradient(145deg, var(--secondary), var(--primary));
color: var(--light);
transform: rotateY(180deg);
}
.card .back {
background: white;
border: 2px solid var(--secondary);
}
.card.flipped {
transform: rotateY(180deg);
}
.bet-amounts {
margin-top: 20px;
display: flex;
justify-content: center;
flex-wrap: wrap;
gap: 12px;
}
#result {
margin-top: 20px;
font-size: 1.3rem;
color: var(--light);
padding: 10px;
border-radius: 8px;
background-color: rgba(0, 0, 0, 0.5);
}
.shake {
animation: shake 0.5s;
}
.glow {
animation: glow 1s infinite alternate;
}
@keyframes shake {
0% { transform: translate(1px, 1px) rotate(0deg); }
20% { transform: translate(-3px, 0px) rotate(-2deg); }
40% { transform: translate(3px, 2px) rotate(2deg); }
60% { transform: translate(-2px, 1px) rotate(0deg); }
80% { transform: translate(2px, -1px) rotate(2deg); }
100% { transform: translate(1px, 1px) rotate(0deg); }
}
@keyframes glow {
from { box-shadow: 0 0 10px var(--secondary); }
to { box-shadow: 0 0 20px var(--light); }
}
#particles-js {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
pointer-events: none;
z-index: 999;
display: none;
}
#welcomePopup {
position: fixed;
top: 0; left: 0;
width: 100%; height: 100%;
background-color: rgba(0, 0, 0, 0.9);
display: flex;
justify-content: center;
align-items: center;
z-index: 10000;
}
#welcomePopup .popup-content {
background: var(--dark);
border: 2px solid var(--secondary);
padding: 30px;
border-radius: 15px;
max-width: 450px;
color: var(--light);
text-align: center;
position: relative;
box-shadow: 0 0 30px var(--secondary);
animation: popupEnter 0.5s ease-out;
}
@keyframes popupEnter {
from { transform: scale(0.8); opacity: 0; }
to { transform: scale(1); opacity: 1; }
}
#welcomePopup .popup-content h2 {
color: var(--secondary);
margin-top: 0;
font-size: 1.8rem;
}
#welcomePopup .popup-content .close {
position: absolute;
top: 15px;
right: 20px;
cursor: pointer;
font-weight: bold;
color: var(--accent);
font-size: 24px;
transition: transform 0.3s;
}
#welcomePopup .popup-content .close:hover {
transform: rotate(90deg);
}
  }
/* فروٹ شوٹر گیم کے لیے اضافی سٹائلز */
#fruitGame {
display: none;
}
.shoot-area {
position: relative;
height: 400px;
border: 3px dashed var(--secondary);
border-radius: 15px;
background-color: #222;
overflow: hidden;
margin-top: 20px;
box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
}
.fruit {
position: absolute;
font-size: 3.5em;
cursor: pointer;
user-select: none;
pointer-events: auto;
transition: transform 0.1s;
z-index: 10;
}
.fruit:hover {
transform: scale(1.1);
}
#fruitTargetDisplay {
font-size: 1.5em;
margin: 15px 0;
color: var(--light);
padding: 10px;
background-color: rgba(0, 0, 0, 0.5);
border-radius: 8px;
display: inline-block;
}
#fruitScoreDisplay {
margin-top: 15px;
font-size: 1.3em;
font-weight: bold;
}
#fruitCountdown {
font-size: 1.4em;
margin-top: 15px;
color: var(--secondary);
font-weight: bold;
}
/* Tic Tac Toe Styles */
#tictactoeGame {
display: none;
}
.tic-tac-toe-board {
display: grid;
grid-template-columns: repeat(3, 1fr);
grid-template-rows: repeat(3, 1fr);
gap: 8px;
width: 320px;
height: 320px;
margin: 25px auto;
background-color: rgba(37, 99, 235, 0.1);
padding: 15px;
border-radius: 15px;
}
.tic-tac-toe-cell {
background-color: #222;
border: 2px solid var(--secondary);
display: flex;
align-items: center;
justify-content: center;
font-size: 3.5rem;
cursor: pointer;
transition: all 0.3s;
color: var(--secondary);
}
.tic-tac-toe-cell:hover {
background-color: #333;
transform: scale(1.05);
}
.tic-tac-toe-cell.x {
color: var(--secondary);
text-shadow: 0 0 10px var(--secondary);
}
.tic-tac-toe-cell.o {
color: var(--accent);
text-shadow: 0 0 10px var(--accent);
}
#tictactoeResult {
margin-top: 20px;
font-size: 1.3rem;
color: var(--light);
padding: 10px;
background-color: rgba(0, 0, 0, 0.5);
border-radius: 8px;
}
#tictactoeCountdown {
font-size: 1.4rem;
color: var(--secondary);
font-weight: bold;
}
/* Find Ace Game Styles */
#findAceGame {
display: none;
}
#findAceCountdown {
font-size: 1.5rem;
margin: 15px 0;
color: var(--secondary);
font-weight: bold;
}
#findAceResult {
margin-top: 20px;
font-size: 1.3rem;
color: var(--light);
padding: 10px;
background-color: rgba(0, 0, 0, 0.5);
border-radius: 8px;
}
/* Archery Game Styles */
#archeryGame {
display: none;
}
.archery-container {
display: flex;
flex-direction: column;
align-items: center;
gap: 20px;
}
.archery-canvas-container {
position: relative;
width: 520px;
height: 520px;
max-width: 100%;
margin: 0 auto;
}
#archeryCanvas {
background: transparent;
border-radius: 12px;
display: block;
max-width: 100%;
height: auto;
border: 2px solid var(--secondary);
}
.archery-controls {
display: flex;
flex-direction: column;
gap: 15px;
width: 100%;
max-width: 520px;
}
.archery-bets {
display: flex;
justify-content: center;
flex-wrap: wrap;
gap: 10px;
}
.archery-score-row {
display: flex;
justify-content: center;
gap: 10px;
}
.archery-score-box {
width: 48px;
height: 48px;
border-radius: 8px;
background: linear-gradient(145deg, #222, #111);
border: 2px solid var(--secondary);
display: flex;
align-items: center;
justify-content: center;
font-weight: 800;
color: var(--secondary);
}
#archeryStatus {
font-size: 1.1rem;
color: var(--light);
text-align: center;
padding: 10px;
background-color: rgba(0, 0, 0, 0.5);
border-radius: 8px;
}
/* Auth Modal Styles */
.auth-modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0, 0, 0, 0.85);
z-index: 1000;
align-items: center;
justify-content: center;
}
.auth-content {
background-color: var(--dark);
border: 2px solid var(--secondary);
padding: 30px;
border-radius: 15px;
width: 90%;
max-width: 400px;
color: var(--light);
box-shadow: 0 0 30px var(--secondary);
animation: modalFadeIn 0.4s ease-out;
}
@keyframes modalFadeIn {
from { opacity: 0; transform: translateY(-20px); }
to { opacity: 1; transform: translateY(0); }
}
.auth-tabs {
display: flex;
margin-bottom: 25px;
border-bottom: 2px solid var(--secondary);
}
.auth-tab {
flex: 1;
padding: 12px;
text-align: center;
cursor: pointer;
border-bottom: 3px solid transparent;
font-weight: bold;
transition: all 0.3s;
}
.auth-tab.active {
border-bottom: 3px solid var(--secondary);
color: var(--secondary);
}
.auth-tab:hover {
background-color: rgba(37, 99, 235, 0.1);
}
.auth-form {
display: none;
}
.auth-form.active {
display: block;
}
.auth-form input {
width: 100%;
padding: 12px;
margin-bottom: 18px;
border-radius: 8px;
border: 1px solid #444;
background-color: #222;
color: var(--light);
font-size: 1rem;
transition: all 0.3s;
}
.auth-form input:focus {
outline: none;
border-color: var(--secondary);
box-shadow: 0 0 10px var(--secondary);
}
.auth-form button {
width: 100%;
padding: 12px;
background: linear-gradient(145deg, var(--secondary), var(--primary));
color: var(--light);
border: none;
border-radius: 8px;
font-weight: bold;
cursor: pointer;
font-size: 1.1rem;
transition: all 0.3s;
margin-top: 10px;
}
.auth-form button:hover {
background: linear-gradient(145deg, var(--secondary), var(--primary));
transform: translateY(-3px);
box-shadow: 0 5px 15px rgba(37, 99, 235, 0.4);
}
.auth-form button:disabled {
background: #444;
cursor: not-allowed;
transform: none;
box-shadow: none;
}
.forgot-password {
text-align: right;
margin-top: -15px;
margin-bottom: 20px;
font-size: 0.9rem;
color: var(--secondary);
cursor: pointer;
transition: color 0.3s;
}
.forgot-password:hover {
color: var(--secondary);
text-decoration: underline;
}
/* Balance and User Info Styles */
.user-info {
display: flex;
align-items: center;
justify-content: center;
gap: 20px;
margin: 20px 0;
flex-wrap: wrap;
}
.balance-container {
display: flex;
align-items: center;
gap: 10px;
background-color: rgba(0, 0, 0, 0.5);
padding: 12px 20px;
border-radius: 30px;
border: 1px solid var(--secondary);
box-shadow: 0 0 15px rgba(37, 99, 235, 0.2);
}
#balanceAmount {
font-weight: bold;
font-size: 1.2rem;
color: var(--secondary);
}
.refresh-balance {
cursor: pointer;
color: var(--secondary);
font-size: 1.3rem;
transition: transform 0.3s;
}
.refresh-balance:hover {
transform: rotate(180deg);
color: var(--secondary);
}
#userDisplay {
display: flex;
align-items: center;
background-color: rgba(0, 0, 0, 0.5);
padding: 10px 20px;
border-radius: 30px;
border: 1px solid var(--secondary);
box-shadow: 0 0 15px rgba(30, 144, 255, 0.2);
gap: 10px;
}
#usernameDisplay {
font-weight: bold;
color: var(--secondary);
font-size: 0.84rem;
}
#phoneDisplay {
font-weight: bold;
color: var(--secondary);
font-size: 0.84rem;
}
.country-flag {
width: 24px;
height: 16px;
border-radius: 2px;
box-shadow: 0 0 5px rgba(0,0,0,0.3);
}
.verified-badge {
color: var(--secondary);
margin-left: 5px;
font-size: 0.84rem;
}
/* Deposit/Withdraw Styles */
#depositSection, #withdrawSection, #moreSection, #vipSection {
display: none;
}
.form-group {
margin-bottom: 20px;
text-align: left;
}
.form-group label {
display: block;
margin-bottom: 8px;
color: var(--secondary);
font-weight: bold;
}
.form-group input, .form-group select {
width: 100%;
padding: 12px;
border-radius: 8px;
border: 1px solid #444;
background-color: #222;
color: var(--light);
font-size: 1rem;
transition: all 0.3s;
}
.form-group input:focus, .form-group select:focus {
outline: none;
border-color: var(--secondary);
box-shadow: 0 0 10px var(--secondary);
}
.submit-btn {
background: linear-gradient(145deg, var(--secondary), var(--primary));
color: var(--light);
border: none;
padding: 12px 25px;
border-radius: 8px;
font-weight: bold;
cursor: pointer;
margin-top: 15px;
font-size: 1.1rem;
transition: all 0.3s;
display: inline-block;
}
.submit-btn:hover {
background: linear-gradient(145deg, var(--secondary), var(--primary));
transform: translateY(-3px);
box-shadow: 0 5px 15px rgba(37, 99, 235, 0.4);
}
.transaction-history {
margin-top: 30px;
max-height: 400px;
overflow-y: auto;
padding: 15px;
background-color: rgba(0, 0, 0, 0.3);
border-radius: 10px;
border: 1px solid rgba(37, 99, 235, 0.3);
}
.transaction-item {
background-color: rgba(30, 30, 30, 0.8);
padding: 15px;
margin-bottom: 15px;
border-radius: 8px;
border-left: 4px solid var(--secondary);
transition: transform 0.3s;
}
.transaction-item:hover {
transform: translateX(5px);
}
.transaction-amount {
font-weight: bold;
font-size: 1.1rem;
}
.transaction-approved {
color: lime;
}
.transaction-pending {
color: var(--secondary);
}
.transaction-rejected {
color: var(--accent);
}
/* VIP Section Styles */
.referral-code {
background-color: rgba(0, 0, 0, 0.5);
padding: 15px;
border-radius: 8px;
font-family: monospace;
margin: 15px 0;
word-break: break-all;
border: 1px solid var(--secondary);
font-size: 1.2rem;
color: var(--secondary);
position: relative;
}
.referral-code-copy {
position: absolute;
right: 10px;
top: 10px;
color: var(--secondary);
cursor: pointer;
font-size: 1rem;
}
.referral-stats {
display: flex;
justify-content: space-around;
margin: 25px 0;
flex-wrap: wrap;
gap: 15px;
}
.stat-box {
background-color: rgba(0, 0, 0, 0.5);
padding: 20px;
border-radius: 10px;
border: 1px solid var(--secondary);
min-width: 120px;
flex: 1;
transition: transform 0.3s;
}
.stat-box:hover {
transform: translateY(-5px);
box-shadow: 0 5px 15px rgba(37, 99, 235, 0.2);
}
.stat-label {
color: var(--light);
margin-bottom: 10px;
font-size: 0.9rem;
}
.stat-value {
font-size: 1.8rem;
font-weight: bold;
color: var(--secondary);
}
/* Announcement Bar */
.announcement-bar {
position: relative;
background: linear-gradient(90deg, transparent, rgba(37, 99, 235, 0.2), transparent);
color: var(--light);
padding: 12px 0;
overflow: hidden;
margin: 0 auto;
width: 100%;
border-top: 1px solid var(--secondary);
border-bottom: 1px solid var(--secondary);
}
.announcement-content {
display: inline-block;
white-space: nowrap;
padding-left: 100%;
animation: scroll 20s linear infinite;
font-size: 1.1rem;
text-shadow: 0 0 5px var(--secondary);
}
.announcement-content span {
color: var(--secondary);
font-weight: bold;
}
@keyframes scroll {
0% { transform: translateX(0); }
100% { transform: translateX(-100%); }
}
/* Message Box */
.message-box {
position: fixed;
top: 20px;
left: 50%;
transform: translateX(-50%);
background-color: var(--dark);
color: var(--secondary);
padding: 15px 25px;
border-radius: 8px;
border: 2px solid var(--secondary);
box-shadow: 0 0 15px rgba(37, 99, 235, 0.5);
z-index: 10000;
opacity: 0;
transition: opacity 0.3s;
}
.message-box.show {
opacity: 1;
}
/* Admin Panel Styles */
#adminSection {
display: none;
}
.admin-controls {
display: flex;
flex-wrap: wrap;
gap: 15px;
margin-bottom: 20px;
justify-content: center;
}
.admin-controls input {
padding: 10px;
border-radius: 8px;
border: 1px solid #444;
background-color: #222;
color: var(--light);
}
.admin-table {
width: 100%;
border-collapse: collapse;
margin-top: 20px;
}
.admin-table th, .admin-table td {
padding: 12px;
text-align: left;
border-bottom: 1px solid rgba(37, 99, 235, 0.3);
}
.admin-table th {
background-color: rgba(37, 99, 235, 0.1);
color: var(--secondary);
}
.admin-table tr:hover {
background-color: rgba(37, 99, 235, 0.05);
}
.admin-action {
background: var(--secondary);
color: var(--light);
border: none;
padding: 8px 12px;
border-radius: 5px;
cursor: pointer;
margin: 0 5px;
font-weight: bold;
}
.admin-action.reject {
background: var(--accent);
}
/* Message Icon */
.message-icon {
position: fixed;
bottom: 20px;
right: 20px;
width: 50px;
height: 50px;
background: var(--secondary);
color: var(--light);
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
cursor: pointer;
box-shadow: 0 0 15px rgba(37, 99, 235, 0.5);
z-index: 1000;
font-size: 1.5rem;
}
.message-notification {
position: absolute;
top: -5px;
right: -5px;
background-color: var(--accent);
color: white;
border-radius: 50%;
width: 20px;
height: 20px;
font-size: 12px;
display: flex;
align-items: center;
justify-content: center;
display: none;
}
.message-popup {
position: fixed;
bottom: 80px;
right: 20px;
width: 300px;
background: var(--dark);
border: 2px solid var(--secondary);
border-radius: 10px;
padding: 15px;
box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
z-index: 1000;
display: none;
}
.message-popup h3 {
margin-top: 0;
color: var(--secondary);
border-bottom: 1px solid var(--secondary);
padding-bottom: 10px;
}
.message-list {
max-height: 200px;
overflow-y: auto;
margin: 10px 0;
}
.message-item {
padding: 8px;
margin-bottom: 8px;
background: rgba(37, 99, 235, 0.1);
border-radius: 5px;
font-size: 0.9rem;
}
.message-date {
font-size: 0.7rem;
color: #888;
margin-top: 4px;
}
/* Responsive adjustments */
@media (max-width: 768px) {
h1 {
font-size: 2.2rem;
}
.game-options {
grid-template-columns: 1fr;
}
.game-options .gold-box {
width: 100%;
height: 140px;
font-size: 1.2rem;
}
.tic-tac-toe-board {
width: 280px;
height: 280px;
}
.archery-canvas-container {
width: 100%;
height: auto;
}
.nav a {
padding: 6px 10px;
font-size: 0.9rem;
}
.section {
padding: 20px;
}
.user-info {
flex-direction: column;
gap: 10px;
}
#usernameDisplay, #phoneDisplay, .verified-badge {
font-size: 0.7rem;
}
}
@media (max-width: 480px) {
h1 {
font-size: 1.8rem;
}
.game-options .gold-box {
height: 120px;
font-size: 1rem;
}
.game-options .gold-box i {
font-size: 2rem;
}
.tic-tac-toe-board {
width: 240px;
height: 240px;
}
.card {
width: 70px;
height: 90px;
font-size: 1.8rem;
}
#usernameDisplay, #phoneDisplay, .verified-badge {
font-size: 0.6rem;
}
}
/* Game Thumbnails (Blue/Black) */
.games-wrap{--blue:#2563EB;--bg:#0b0b0b;--card:#121212}
.games-wrap{background:transparent;color:var(--blue);font-family:system-ui,Segoe UI,Arial}
.games-title{margin:10px 0 12px;font-size:18px;color:var(--blue);letter-spacing:.4px}
.game-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
@media (min-width:720px){.game-grid{grid-template-columns:repeat(3,minmax(0,1fr));}}
.game-card{position:relative;border-radius:16px;overflow:hidden;background:var(--card);
box-shadow:0 8px 24px rgba(0,0,0,.45);transition:transform .25s ease, box-shadow .25s ease}
.game-card:hover{transform:translateY(-4px);box-shadow:0 14px 36px rgba(0,0,0,.55)}
.thumb{position:relative;aspect-ratio:1/1;display:block;background:
radial-gradient(120% 120% at 0% 0%,rgba(37, 99, 235,.12),transparent 40%),
radial-gradient(120% 120% at 100% 0%,rgba(37, 99, 235,.08),transparent 45%),
linear-gradient(#1a1a1a,#0f0f0f);}
.thumb:after{content:"";position:absolute;inset:0;opacity:.08;pointer-events:none;
background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='80' height='80'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.35'/></svg>");background-size:180px 180px;mix-blend-mode:overlay}
.badge{position:absolute;top:10px;left:10px;background:rgba(0,0,0,.55);color:var(--blue);
border:1px solid rgba(37, 99, 235,.35);padding:4px 8px;border-radius:999px;font-size:11px}
.label{display:flex;align-items:center;justify-content:space-between;gap:8px;
padding:10px 12px;border-top:1px solid rgba(37, 99, 235,.14);color:#d6e9f6}
.label span{font-size:14px}
.play{font-size:12px;border:1px solid rgba(37, 99, 235,.35);padding:4px 8px;border-radius:999px}
.icon{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;
font-size:56px;filter:drop-shadow(0 6px 14px rgba(0,0,0,.6))}
.thumb img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;display:none}
.game-card a{color:inherit;text-decoration:none;display:block}
/* Game Modal Styles */
.game-modal {
  display: none;
  position: fixed;
  top: 0; left: 0; width: 100vw; height: 100vh;
  background: rgba(0,0,0,0.88);
  z-index: 10010;
  align-items: center;
  justify-content: center;
}
.game-modal-content {
  background: #181d2a;
  border-radius: 22px;
  border: 3px solid var(--secondary);
  box-shadow: 0 0 40px var(--secondary);
  padding: 30px 26px;
  min-width: 350px;
  min-height: 300px;
  max-width: 98vw;
  max-height: 98vh;
  position: relative;
  overflow-y: auto;
}
.game-modal-content .close {
  position: absolute; top: 10px; right: 20px;
  color: var(--accent); font-size: 2rem; cursor: pointer;
  z-index: 10;
}
#chessGameBoard {
  margin: 0 auto;
}
#chessStatus { margin: 16px 0 8px; font-size: 1.1rem; color: var(--secondary);}
#chessTimer {
  color: var(--accent);
  font-weight: bold;
  margin-bottom: 12px;
  font-size: 1.1rem;
}
</style>
  </head>
<body>
<div id="particles-js"></div>
<!-- Message Box -->
<div id="messageBox" class="message-box"></div>
<!-- Message Icon -->
<div class="message-icon" onclick="toggleMessages()">
<i class="fas fa-bell"></i>
<div class="message-notification" id="messageNotification"></div>
</div>
<div class="message-popup" id="messagePopup">
<h3>Announcements</h3>
<div class="message-list" id="messageList">
<!-- Messages will be populated here -->
</div>
<button class="gold-box" onclick="closeMessages()">Close</button>
</div>
<!-- Announcement Bar -->
<div class="announcement-bar">
<div class="announcement-content">
<span>📢 Stay connected with us!</span> For deposits, contact VIP users (verified with blue tick) or WhatsApp us at USCash WhatsApp channel
</div>
</div>
<div id="welcomePopup" style="display:none;">
<div class="popup-content">
<div class="close" onclick="document.getElementById('welcomePopup').style.display='none'">×</div>
<h2>Welcome to USCash! 🎮</h2>
<p>Experience the thrill of gaming with real rewards. We're constantly improving our platform to bring you the best gaming experience.</p>
<p>New games and features are coming soon - stay tuned!</p>
<button class="gold-box" onclick="document.getElementById('welcomePopup').style.display='none'" style="margin-top: 20px;">
Let's Play!
</button>
</div>
</div>
<!-- Auth Modals -->
<div id="authModal" class="auth-modal">
<div class="auth-content">
<div class="auth-tabs">
<div class="auth-tab active" onclick="switchAuthTab('login')">Login</div>
<div class="auth-tab" onclick="switchAuthTab('signup')">Sign Up</div>
</div>
<div id="loginForm" class="auth-form active">
<input type="email" id="loginEmail" placeholder="Email" required />
<input type="password" id="loginPassword" placeholder="Password" required />
<div class="forgot-password" onclick="showForgotPassword()">Forgot Password?</div>
<button onclick="loginUser()">Login</button>
</div>
<div id="signupForm" class="auth-form">
<input type="text" id="signupName" placeholder="Full Name" required />
<input type="tel" id="signupPhone" placeholder="Phone Number" required />
<input type="email" id="signupEmail" placeholder="Email" required />
<input type="password" id="signupPassword" placeholder="Password (6+ characters)" required minlength="6" />
<input type="text" id="referralCode" placeholder="Referral Code (Optional)" />
<button onclick="signupUser()">Sign Up</button>
</div>
<div id="forgotPasswordForm" class="auth-form">
<input type="email" id="forgotEmail" placeholder="Enter your email" required />
<button onclick="resetPassword()">Reset Password</button>
<button onclick="backToLogin()" style="margin-top: 10px; background-color: #444;">Back to Login</button>
</div>
</div>
</div>
<h1>USCash 🎮</h1>
<div class="user-info">
<div id="userDisplay" style="display:none;">
<img src="https://flagcdn.com/w20/pk.png" class="country-flag" alt="Country Flag" id="countryFlag">
<span id="usernameDisplay"></span>
<span id="phoneDisplay"></span>
<i class="fas fa-check-circle verified-badge" id="verifiedBadge" style="display:none;"></i>
</div>
<div class="balance-container">
<span>Balance: Rs. <span id="balanceAmount">0</span></span>
<i class="fas fa-sync-alt refresh-balance" onclick="refreshBalance()"></i>
</div>
<div id="authButtons">
<button class="gold-box" onclick="showAuthModal('login')">Login</button>
<button class="gold-box" onclick="showAuthModal('signup')">Sign Up</button>
</div>
<div id="logoutButton" style="display:none;">
<button class="gold-box" onclick="logoutUser()">Logout</button>
</div>
</div>
<div class="nav">
<a href="#" onclick="showSection('home')"><i class="fas fa-home"></i> Home</a>
<a href="#" onclick="showSection('deposit')"><i class="fas fa-money-bill-wave"></i> Deposit</a>
<a href="#" onclick="showSection('withdraw')"><i class="fas fa-wallet"></i> Withdraw</a>
<a href="#" onclick="showSection('vip')"><i class="fas fa-crown"></i> VIP</a>
<a href="#" onclick="showSection('status')" id="statusLink" style="display:none;"><i class="fas fa-info-circle"></i> Status</a>
<a href="#" onclick="showSection('admin')" id="adminLink" style="display:none;"><i class="fas fa-user-shield"></i> Admin</a>
</div>
<!-- Home Section -->
<div class="section" id="homeSection">
<h2>Select Game</h2>
<!-- Game Thumbnails -->
<section class="games-wrap">
<div class="games-title">Select Game</div>
<div class="game-grid">
<!-- Scratch Match -->
<article class="game-card">
<a href="#/scratch-match" onclick="startCardGame(); return false;">
<div class="thumb" aria-label="Scratch Match">
<div class="badge">Hot</div>
<div class="icon">🎫</div>
</div>
<div class="label"><span>Scratch Match</span><span class="play">Play</span></div>
</a>
</article>
<!-- Fruit Shooting -->
<article class="game-card">
<a href="#/fruit-shooting" onclick="startFruitGame(); return false;">
<div class="thumb" aria-label="Fruit Shooting">
<div class="badge">Arcade</div>
<div class="icon">🍉</div>
</div>
<div class="label"><span>Fruit Shooting</span><span class="play">Play</span></div>
</a>
</article>
<!-- Tic Tac Toe -->
<article class="game-card">
<a href="#/tic-tac-toe" onclick="startTicTacToeGame(); return false;">
<div class="thumb" aria-label="Tic Tac Toe">
<div class="badge">Classic</div>
<div class="icon">#️⃣</div>
</div>
<div class="label"><span>Tic Tac Toe</span><span class="play">Play</span></div>
</a>
</article>
<!-- Find Ace -->
<article class="game-card">
<a href="#/find-ace" onclick="startFindAceGame(); return false;">
<div class="thumb" aria-label="Find Ace">
<div class="badge">Cards</div>
<div class="icon">A♠️</div>
</div>
<div class="label"><span>Find Ace</span><span class="play">Play</span></div>
</a>
</article>
<!-- Archery Challenge -->
<article class="game-card">
<a href="#/archery-challenge" onclick="startArcheryGame(); return false;">
<div class="thumb" aria-label="Archery Challenge">
<div class="badge">Skill</div>
<div class="icon">🎯</div>
</div>
<div class="label"><span>Archery Challenge</span><span class="play">Play</span></div>
</a>
</article>
<!-- Chess Game -->
<article class="game-card">
<a href="#/chess" onclick="startChessGameModal(); return false;">
<div class="thumb" aria-label="Chess">
<div class="badge">Pro</div>
<div class="icon">♟️</div>
</div>
<div class="label"><span>Chess (Hard)</span><span class="play">Play</span></div>
</a>
</article>
</div>
</section>
</div>
<!-- Scratch Game -->
<div class="section" id="scratchGame" style="display:none;">
<h2><i class="fas fa-scroll"></i> Scratch & Match</h2>
<div class="bet-amounts">
<div class="gold-box" onclick="selectBet(20)">20</div>
<div class="gold-box" onclick="selectBet(50)">50</div>
<div class="gold-box" onclick="selectBet(100)">100</div>
<div class="gold-box" onclick="selectBet(150)">150</div>
<div class="gold-box" onclick="selectBet(200)">200</div>
<div class="gold-box" onclick="selectBet(300)">300</div>
</div>
<div class="card-grid" id="cardGrid"></div>
<div id="result"></div>
</div>
<!-- Fruit Game -->
<div class="section" id="fruitGame" style="display:none;">
<h2><i class="fas fa-apple-alt"></i> Fruit Shooting</h2>
<div id="fruitTargetDisplay">Target: Shoot the <b style="color:red;">RED</b> Apple 🍎!</div>
<div class="bet-amounts">
<div class="gold-box" onclick="startFruitRound(20)">Rs. 20</div>
<div class="gold-box" onclick="startFruitRound(50)">Rs. 50</div>
<div class="gold-box" onclick="startFruitRound(100)">Rs. 100</div>
<div class="gold-box" onclick="startFruitRound(150)">Rs. 150</div>
<div class="gold-box" onclick="startFruitRound(200)">Rs. 200</div>
</div>
<div id="fruitCountdown">Time: 0s</div>
<div class="shoot-area" id="shootArea"></div>
<div id="fruitScoreDisplay"></div>
</div>
<!-- Tic Tac Toe Game -->
<div class="section" id="tictactoeGame" style="display:none;">
<h2><i class="fas fa-times"></i> Tic Tac Toe</h2>
<div class="bet-amounts">
<div class="gold-box" onclick="selectTicTacToeBet(50)">Rs. 50</div>
<div class="gold-box" onclick="selectTicTacToeBet(100)">Rs. 100</div>
<div class="gold-box" onclick="selectTicTacToeBet(200)">Rs. 200</div>
<div class="gold-box" onclick="selectTicTacToeBet(300)">Rs. 300</div>
</div>
<div id="tictactoeCountdown">Time: 30s</div>
<div class="tic-tac-toe-board" id="ticTacToeBoard"></div>
<div id="tictactoeResult"></div>
</div>
<!-- Find Ace Game -->
<div class="section" id="findAceGame" style="display:none;">
<h2><i class="fas fa-search"></i> Find Ace</h2>
<div class="bet-amounts">
<div class="gold-box" onclick="startFindAceRound(50)">Rs. 50</div>
<div class="gold-box" onclick="startFindAceRound(100)">Rs. 100</div>
<div class="gold-box" onclick="startFindAceRound(200)">Rs. 200</div>
<div class="gold-box" onclick="startFindAceRound(300)">Rs. 300</div>
</div>
<div id="findAceCountdown">Time: 15s</div>
<div class="card-grid" id="findAceGrid"></div>
<div id="findAceResult"></div>
</div>
<!-- Archery Game -->
<div class="section" id="archeryGame" style="display:none;">
<h2><i class="fas fa-bullseye"></i> Archery Challenge</h2>
<div class="archery-container">
<div class="archery-canvas-container">
<canvas id="archeryCanvas" width="520" height="520"></canvas>
</div>
<div class="archery-controls">
<div class="bet-amounts">
<div class="gold-box" onclick="selectArcheryBet(20)">Rs. 20</div>
<div class="gold-box" onclick="selectArcheryBet(50)">Rs. 50</div>
<div class="gold-box" onclick="selectArcheryBet(100)">Rs. 100</div>
<div class="gold-box" onclick="selectArcheryBet(150)">Rs. 150</div>
<div class="gold-box" onclick="selectArcheryBet(200)">Rs. 200</div>
</div>
<div class="archery-score-row" id="archeryScoreRow">
<div class="archery-score-box"></div>
<div class="archery-score-box"></div>
<div class="archery-score-box"></div>
<div class="archery-score-box"></div>
<div class="archery-score-box"></div>
</div>
<div id="archeryStatus">Pick a bet to start</div>
<div style="display: flex; justify-content: center; gap: 10px;">
<button class="gold-box" onclick="resetArcheryGame()">Reset</button>
<button class="gold-box" onclick="toggleArcheryAuto()" id="archeryAutoBtn">Auto: OFF</button>
</div>
</div>
</div>
</div>
<!-- Deposit Section -->
<div class="section" id="depositSection" style="display:none;">
<h2><i class="fas fa-money-bill-wave"></i> Deposit</h2>
<p style="color: var(--secondary);">Minimum deposit amount is Rs. 150. To deposit, please contact VIP users (verified with blue tick) or WhatsApp us at USCash WhatsApp channel</p>
<div class="form-group">
<label for="depositAmount">Amount (Rs.)</label>
<input type="number" id="depositAmount" min="150" placeholder="Minimum 150" />
</div>
<div class="form-group">
<label for="depositMethod">Payment Method</label>
<select id="depositMethod">
<option value="easypaisa">EasyPaisa</option>
<option value="jazzcash">JazzCash</option>
<option value="bank">Bank Transfer</option>
</select>
</div>
<div class="form-group">
<label for="transactionId">Transaction ID</label>
<input type="text" id="transactionId" placeholder="Enter transaction reference" />
</div>
<button class="submit-btn" onclick="submitDeposit()">Submit Deposit Request</button>
<div class="transaction-history" id="depositHistory">
<h3><i class="fas fa-history"></i> Deposit History</h3>
<!-- Will be populated by JavaScript -->
</div>
</div>
<!-- Withdraw Section -->
<div class="section" id="withdrawSection" style="display:none;">
<h2><i class="fas fa-wallet"></i> Withdraw</h2>
<p style="color: var(--secondary);">Minimum withdrawal amount is Rs. 300. You can submit requests anytime.</p>
<div class="form-group">
<label for="withdrawAmount">Amount (Rs.)</label>
<input type="number" id="withdrawAmount" min="300" placeholder="Minimum 300" />
</div>
<div class="form-group">
<label for="withdrawMethod">Payment Method</label>
<select id="withdrawMethod">
<option value="easypaisa">EasyPaisa</option>
<option value="jazzcash">JazzCash</option>
<option value="bank">Bank Transfer</option>
</select>
</div>
<div class="form-group">
<label for="accountNumber">Account Number</label>
<input type="text" id="accountNumber" placeholder="Enter your account number" />
</div>
<div class="form-group">
<label for="accountName">Account Name</label>
<input type="text" id="accountName" placeholder="Enter account holder name" />
</div>
<button class="submit-btn" onclick="submitWithdraw()">Submit Withdrawal Request</button>
<div class="transaction-history" id="withdrawHistory">
<h3><i class="fas fa-history"></i> Withdrawal History</h3>
<!-- Will be populated by JavaScript -->
</div>
</div>
<!-- VIP Section -->
<div class="section" id="vipSection" style="display:none;">
<h2><i class="fas fa-crown"></i> VIP Program</h2>
<p style="color: var(--secondary);">Earn money by referring friends! When a user refers someone, the referral must make their first deposit. Only then will the referring user receive 5% of the referral's next withdrawal amount.</p>
<div class="referral-stats">
<div class="stat-box">
<div class="stat-label">Total Referrals</div>
<div class="stat-value" id="referralCount">0</div>
</div>
<div class="stat-box">
<div class="stat-label">Your Earnings</div>
<div class="stat-value" id="referralEarnings">Rs. 0</div>
</div>
<div class="stat-box">
<div class="stat-label">VIP Status</div>
<div class="stat-value" id="vipStatus">Basic</div>
</div>
</div>
<h3><i class="fas fa-user-plus"></i> Your Referral Code</h3>
<div class="referral-code" id="userReferralCode">
Login to see your code
<i class="far fa-copy referral-code-copy" onclick="copyReferralCode()" title="Copy to clipboard" style="display:none;"></i>
</div>
<h3><i class="fas fa-info-circle"></i> How It Works</h3>
<ol style="text-align: left; padding-left: 20px;">
<li>Share your unique referral code with friends</li>
<li>They sign up using your code and make their first deposit</li>
<li>You earn <b>5% of their next withdrawal amount</b></li>
<li>Withdraw your earnings anytime</li>
<li>Reach higher VIP levels for more benefits</li>
</ol>
<button class="submit-btn" onclick="shareReferralCode()" style="margin-top: 20px;">
<i class="fas fa-share-alt"></i> Share Your Referral Code
</button>
</div>
<!-- Status Section (replaces More Section) -->
<div class="section" id="statusSection" style="display:none;">
<h2><i class="fas fa-info-circle"></i> Status</h2>
<h3><i class="fas fa-clock"></i> Deposit Request Status</h3>
<div class="transaction-history" id="depositStatus">
<!-- Will be populated by JavaScript -->
</div>
<h3><i class="fas fa-clock"></i> Withdrawal Request Status</h3>
<div class="transaction-history" id="withdrawStatus">
<!-- Will be populated by JavaScript -->
</div>
<h3><i class="fas fa-exchange-alt"></i> Transaction History</h3>
<div class="transaction-history" id="fullTransactionHistory">
<!-- Will be populated by JavaScript -->
</div>
<button class="submit-btn" onclick="refreshAllData()" style="margin-top: 20px;">
<i class="fas fa-sync-alt"></i> Refresh All Data
</button>
</div>
<!-- Admin Section -->
<div class="section" id="adminSection" style="display:none;">
<h2><i class="fas fa-user-shield"></i> Admin Panel</h2>
<div class="admin-controls">
<input type="text" id="searchUser" placeholder="Search by name..." oninput="searchUsers()">
</div>
<h3>Users</h3>
<div class="transaction-history">
<table class="admin-table">
<thead>
<tr>
<th>Name</th>
<th>Email</th>
<th>Starting Balance</th>
<th>Current Balance</th>
<th>Actions</th>
</tr>
</thead>
<tbody id="usersTable">
<!-- Users will be populated here -->
</tbody>
</table>
</div>
<h3>Deposit Requests</h3>
<div class="transaction-history">
<table class="admin-table">
<thead>
<tr>
<th>User</th>
<th>Amount</th>
<th>Method</th>
<th>Transaction ID</th>
<th>Status</th>
<th>Date</th>
<th>Actions</th>
</tr>
</thead>
<tbody id="depositRequestsTable">
<!-- Deposit requests will be populated here -->
</tbody>
</table>
</div>
<h3>Withdrawal Requests</h3>
<div class="transaction-history">
<table class="admin-table">
<thead>
<tr>
<th>User</th>
<th>Amount</th>
<th>Method</th>
<th>Account Details</th>
<th>Status</th>
<th>Date</th>
<th>Actions</th>
</tr>
</thead>
<tbody id="withdrawRequestsTable">
<!-- Withdrawal requests will be populated here -->
</tbody>
</table>
</div>
<h3>Send Announcement</h3>
<div class="form-group">
<textarea id="announcementText" placeholder="Enter announcement message..." rows="3" style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #444; background-color: #222; color: var(--light);"></textarea>
</div>
<button class="submit-btn" onclick="sendAnnouncement()">Send Announcement</button>
</div>
<audio id="bgMusic" loop>
<source src="https://cdn.pixabay.com/audio/2023/03/16/audio_98b541c254.mp3" type="audio/mp3">
</audio>
<audio id="flipSound">
<source src="https://cdn.pixabay.com/download/audio/2022/10/03/audio_07d4930c1c.mp3" type="audio/mp3">
</audio>
<audio id="winSound">
<source src="https://cdn.pixabay.com/download/audio/2022/03/21/audio_5a9f1d8e6b.mp3" type="audio/mp3">
</audio>
<audio id="loseSound">
<source src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_0d8d2a5c8a.mp3" type="audio/mp3">
</audio>
<audio id="shotSound">
<source src="https://cdn.pixabay.com/download/audio/2023/08/19/audio_5a9f1d8e6b.mp3" type="audio/mp3">
</audio>
<audio id="shuffleSound">
<source src="https://cdn.pixabay.com/download/audio/2022/03/04/audio_6b08f2e9f8.mp3" type="audio/mp3">
</audio>
<!-- Firebase SDK -->
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.11.0/chess.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/chessboard-1.0.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/stockfish@16.1.2/dist/stockfish.min.js"></script>
  // Firebase configuration
const firebaseConfig = {
apiKey: "AIzaSyBM7DY6i11IPk8DAvVA6tsgmz7Epi5bJh0",
authDomain: "pakcashplay.firebaseapp.com",
projectId: "pakcashplay",
storageBucket: "pakcashplay.appspot.com",
messagingSenderId: "551195851632",
appId: "1:551195851632:web:4dcf6a8fb36d82e6a6adb5"
};
// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();
// Game variables
let balance = 0;
let selectedBet = null;
let gameStarted = false;
let currentUser = null;
let lastWithdrawRequestTime = 0;
// Initialize games when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
checkAuthState();
setupGames();
// Remove welcome popup
document.getElementById('welcomePopup').style.display = 'none';
localStorage.setItem('welcomeShown', 'true');
// Start background music
try {
document.getElementById('bgMusic').volume = 0.3;
document.getElementById('bgMusic').play();
} catch (e) {
console.log("Audio autoplay blocked:", e);
}
});
// Authentication functions
function checkAuthState() {
auth.onAuthStateChanged(user => {
if (user) {
currentUser = user;
document.getElementById('authButtons').style.display = 'none';
document.getElementById('logoutButton').style.display = 'block';
document.getElementById('userDisplay').style.display = 'flex';
document.getElementById('statusLink').style.display = 'block';
loadUserData();
// Check if user is admin
db.collection('users').doc(user.uid).get()
.then(doc => {
if (doc.exists) {
const userData = doc.data();
if (userData.email === 'cptanil1995@gmail.com' || userData.email === 'auk5562@gmail.com' || userData.email === 'kafe2999@gmail.com') {
document.getElementById('adminLink').style.display = 'block';
// Add star icon for admin users
if (userData.email === 'cptanil1995@gmail.com' || userData.email === 'auk5562@gmail.com' || userData.email === 'kafe2999@gmail.com') {
document.getElementById('verifiedBadge').style.display = 'inline-block';
document.getElementById('verifiedBadge').className = 'fas fa-star verified-badge';
}
}
}
});
} else {
currentUser = null;
document.getElementById('authButtons').style.display = 'flex';
document.getElementById('logoutButton').style.display = 'none';
document.getElementById('userDisplay').style.display = 'none';
document.getElementById('statusLink').style.display = 'none';
document.getElementById('adminLink').style.display = 'none';
showSection('home');
// Reset balance display when logged out
document.getElementById('balanceAmount').textContent = '0';
}
});
}
function showAuthModal(tab) {
document.getElementById('authModal').style.display = 'flex';
switchAuthTab(tab);
}
function hideAuthModal() {
document.getElementById('authModal').style.display = 'none';
}
function switchAuthTab(tab) {
document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));
if (tab === 'login') {
document.querySelector('.auth-tab:nth-child(1)').classList.add('active');
document.getElementById('loginForm').classList.add('active');
} else if (tab === 'signup') {
document.querySelector('.auth-tab:nth-child(2)').classList.add('active');
document.getElementById('signupForm').classList.add('active');
}
}
function showForgotPassword() {
document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));
document.getElementById('forgotPasswordForm').classList.add('active');
}
function backToLogin() {
switchAuthTab('login');
}
function loginUser() {
const email = document.getElementById('loginEmail').value;
const password = document.getElementById('loginPassword').value;
if (!email || !password) {
showMessage('Please enter both email and password', 'error');
return;
}
// Show loading state
const loginBtn = document.querySelector('#loginForm button');
loginBtn.disabled = true;
loginBtn.textContent = 'Logging in...';
auth.signInWithEmailAndPassword(email, password)
.then(() => {
hideAuthModal();
showMessage('Login successful! Welcome back.', 'success');
// Update last login time
if (currentUser) {
db.collection('users').doc(currentUser.uid).update({
lastLogin: firebase.firestore.FieldValue.serverTimestamp()
});
}
})
.catch(error => {
let errorMessage = 'Login failed. ';
switch(error.code) {
case 'auth/user-not-found':
errorMessage += 'No account found with this email.';
break;
case 'auth/wrong-password':
errorMessage += 'Incorrect password.';
break;
case 'auth/invalid-email':
errorMessage += 'The email address is invalid.';
break;
default:
errorMessage += error.message;
}
showMessage(errorMessage, 'error');
})
.finally(() => {
// Reset button state
loginBtn.disabled = false;
loginBtn.textContent = 'Login';
});
}
function signupUser() {
const email = document.getElementById('signupEmail').value;
const password = document.getElementById('signupPassword').value;
const name = document.getElementById('signupName').value;
const phone = document.getElementById('signupPhone').value;
const referralCode = document.getElementById('referralCode').value;
// Validate all required fields
if (!email || !password || !name || !phone) {
showMessage('Please fill in all required fields', 'error');
return;
}
// Validate email format
if (!validateEmail(email)) {
showMessage('Please enter a valid email address', 'error');
return;
}
// Validate password length
if (password.length < 6) {
showMessage('Password should be at least 6 characters', 'error');
return;
}
// Show loading state
const signupBtn = document.querySelector('#signupForm button');
signupBtn.disabled = true;
signupBtn.textContent = 'Creating account...';
// Create user with Firebase Auth
auth.createUserWithEmailAndPassword(email, password)
.then((userCredential) => {
// Create user document in Firestore
return db.collection('users').doc(userCredential.user.uid).set({
name: name,
phone: phone,
email: email,
balance: 0,
startingBalance: 0,
referralCode: generateReferralCode(),
referredBy: referralCode || null,
referralCount: 0,
referralEarnings: 0,
createdAt: firebase.firestore.FieldValue.serverTimestamp(),
lastLogin: firebase.firestore.FieldValue.serverTimestamp(),
depositCount: 0
});
})
.then(() => {
// If referral code was provided, update the referrer's stats
if (referralCode) {
return db.collection('users').where('referralCode', '==', referralCode).get()
.then(querySnapshot => {
if (!querySnapshot.empty) {
const referrerId = querySnapshot.docs[0].id;
return db.collection('users').doc(referrerId).update({
referralCount: firebase.firestore.FieldValue.increment(1)
});
}
});
}
})
.then(() => {
// Success - hide modal and show welcome message
hideAuthModal();
showMessage('Signup successful! Welcome to USCash.', 'success');
// Reset form
document.getElementById('signupForm').reset();
})
.catch(error => {
// Handle specific errors
let errorMessage = 'Signup failed. ';
switch(error.code) {
case 'auth/email-already-in-use':
errorMessage += 'This email is already registered.';
break;
case 'auth/invalid-email':
errorMessage += 'The email address is invalid.';
break;
case 'auth/weak-password':
errorMessage += 'The password is too weak.';
break;
default:
errorMessage += error.message;
}
showMessage(errorMessage, 'error');
})
.finally(() => {
signupBtn.disabled = false;
signupBtn.textContent = 'Sign Up';
});
}
function validateEmail(email) {
const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
return re.test(email);
}
function resetPassword() {
const email = document.getElementById('forgotEmail').value;
if (!email) {
showMessage('Please enter your email', 'error');
return;
}
auth.sendPasswordResetEmail(email)
.then(() => {
showMessage('Password reset email sent! Please check your inbox.', 'success');
backToLogin();
})
.catch(error => {
showMessage('Error sending reset email: ' + error.message, 'error');
});
}
function logoutUser() {
auth.signOut().then(() => {
showSection('home');
showMessage('Logged out successfully', 'success');
balance = 0;
document.getElementById('balanceAmount').textContent = '0';
});
}
function generateReferralCode() {
return Math.random().toString(36).substring(2, 8).toUpperCase();
}
function copyReferralCode() {
const referralCode = document.getElementById('userReferralCode').textContent;
navigator.clipboard.writeText(referralCode)
.then(() => {
showMessage('Referral code copied to clipboard!', 'success');
})
.catch(err => {
console.error('Failed to copy: ', err);
});
}
function shareReferralCode() {
const referralCode = document.getElementById('userReferralCode').textContent;
const shareText = `Join USCash and use my referral code: ${referralCode} to get bonus rewards!`;
if (navigator.share) {
navigator.share({
title: 'USCash Referral',
text: shareText,
url: window.location.href
})
.catch(err => {
console.error('Error sharing:', err);
fallbackShare(referralCode, shareText);
});
} else {
fallbackShare(referralCode, shareText);
}
}
function fallbackShare(referralCode, shareText) {
prompt('Copy your referral code to share:', shareText);
}
function loadUserData() {
if (!currentUser) return;
db.collection('users').doc(currentUser.uid).onSnapshot(doc => {
if (doc.exists) {
const userData = doc.data();
balance = userData.balance || 0;
updateBalanceDisplay();
document.getElementById('usernameDisplay').textContent = userData.name || userData.email || 'User';
document.getElementById('phoneDisplay').textContent = userData.phone || '';
if (userData.email === 'cptanil1995@gmail.com' || userData.email === 'auk5562@gmail.com' || userData.email === 'kafe2999@gmail.com') {
document.getElementById('verifiedBadge').style.display = 'inline-block';
document.getElementById('verifiedBadge').className = 'fas fa-star verified-badge';
}
if (document.getElementById('vipSection').style.display === 'block') {
document.getElementById('userReferralCode').textContent = userData.referralCode || 'N/A';
document.getElementById('referralCount').textContent = userData.referralCount || 0;
document.getElementById('referralEarnings').textContent = 'Rs. ' + (userData.referralEarnings || 0);
if (userData.referralCode) {
document.querySelector('.referral-code-copy').style.display = 'block';
}
const earnings = userData.referralEarnings || 0;
let vipStatus = 'Basic';
if (earnings >= 5000) vipStatus = 'Gold';
else if (earnings >= 1000) vipStatus = 'Silver';
document.getElementById('vipStatus').textContent = vipStatus;
}
}
});
loadTransactionHistory();
loadAnnouncements();
}
function refreshBalance() {
if (currentUser) {
db.collection('users').doc(currentUser.uid).get()
.then(doc => {
if (doc.exists) {
balance = doc.data().balance || 0;
updateBalanceDisplay();
showMessage('Balance refreshed!', 'success');
}
});
}
}
function refreshAllData() {
refreshBalance();
loadTransactionHistory();
showMessage('All data refreshed!', 'success');
}
function updateBalanceDisplay() {
document.getElementById('balanceAmount').textContent = Math.floor(balance);
}
function showMessage(message, type = 'info') {
const messageBox = document.getElementById('messageBox');
messageBox.textContent = message;
messageBox.className = 'message-box';
if (type === 'error') {
messageBox.style.borderColor = 'var(--accent)';
messageBox.style.color = 'var(--accent)';
} else if (type === 'success') {
messageBox.style.borderColor = 'lime';
messageBox.style.color = 'lime';
} else {
messageBox.style.borderColor = 'var(--secondary)';
messageBox.style.color = 'var(--secondary)';
}
messageBox.classList.add('show');
setTimeout(() => {
messageBox.classList.remove('show');
}, 3000);
}
  // Transaction functions
function submitDeposit() {
if (!currentUser) {
showMessage('Please login to deposit', 'error');
return;
}
const amount = parseFloat(document.getElementById('depositAmount').value);
const method = document.getElementById('depositMethod').value;
const transactionId = document.getElementById('transactionId').value;
if (isNaN(amount) || amount < 150) {
showMessage('Minimum deposit amount is Rs. 150', 'error');
return;
}
if (!transactionId) {
showMessage('Please enter transaction ID', 'error');
return;
}
// Add deposit request
db.collection('deposit_requests').add({
userId: currentUser.uid,
userName: currentUser.displayName || currentUser.email,
amount: amount,
method: method,
transactionId: transactionId,
status: 'pending',
createdAt: firebase.firestore.FieldValue.serverTimestamp()
})
.then(() => {
showMessage('Deposit request submitted successfully!', 'success');
document.getElementById('depositAmount').value = '';
document.getElementById('transactionId').value = '';
loadTransactionHistory();
})
.catch(error => {
showMessage('Error submitting deposit: ' + error.message, 'error');
});
}
function submitWithdraw() {
if (!currentUser) {
showMessage('Please login to withdraw', 'error');
return;
}
const amount = parseFloat(document.getElementById('withdrawAmount').value);
const method = document.getElementById('withdrawMethod').value;
const accountNumber = document.getElementById('accountNumber').value;
const accountName = document.getElementById('accountName').value;
if (isNaN(amount) || amount < 300) {
showMessage('Minimum withdrawal amount is Rs. 300', 'error');
return;
}
if (amount > balance) {
showMessage('Insufficient balance', 'error');
return;
}
if (!accountNumber || !accountName) {
showMessage('Please enter account details', 'error');
return;
}
// Add withdrawal request
db.collection('withdraw_requests').add({
userId: currentUser.uid,
userName: currentUser.displayName || currentUser.email,
amount: amount,
method: method,
accountNumber: accountNumber,
accountName: accountName,
status: 'pending',
createdAt: firebase.firestore.FieldValue.serverTimestamp()
})
.then(() => {
lastWithdrawRequestTime = Date.now();
showMessage('Withdrawal request submitted successfully! It will be processed within 24 hours.', 'success');
document.getElementById('withdrawAmount').value = '';
document.getElementById('accountNumber').value = '';
document.getElementById('accountName').value = '';
loadTransactionHistory();
})
.catch(error => {
showMessage('Error submitting withdrawal: ' + error.message, 'error');
});
}
function loadTransactionHistory() {
if (!currentUser) return;
// Load deposit history
db.collection('deposit_requests')
.where('userId', '==', currentUser.uid)
.orderBy('createdAt', 'desc')
.limit(10)
.get()
.then(querySnapshot => {
const depositHistory = document.getElementById('depositHistory');
if (depositHistory) {
depositHistory.innerHTML = '<h3><i class="fas fa-history"></i> Deposit History</h3>';
if (querySnapshot.empty) {
depositHistory.innerHTML += '<p>No deposit history found</p>';
return;
}
querySnapshot.forEach(doc => {
const data = doc.data();
const item = document.createElement('div');
item.className = 'transaction-item';
let statusClass = 'transaction-pending';
if (data.status === 'approved') statusClass = 'transaction-approved';
if (data.status === 'rejected') statusClass = 'transaction-rejected';
item.innerHTML = `
<div>Amount: <span class="transaction-amount">Rs. ${data.amount}</span></div>
<div>Method: ${data.method}</div>
<div>Status: <span class="${statusClass}">${data.status}</span></div>
<div>Date: ${data.createdAt?.toDate().toLocaleString() || 'N/A'}</div>
`;
depositHistory.appendChild(item);
});
}
// Also update deposit status in status section
const depositStatus = document.getElementById('depositStatus');
if (depositStatus) {
depositStatus.innerHTML = '';
if (querySnapshot.empty) {
depositStatus.innerHTML = '<p>No deposit requests found</p>';
return;
}
querySnapshot.forEach(doc => {
const data = doc.data();
const item = document.createElement('div');
item.className = 'transaction-item';
let statusClass = 'transaction-pending';
if (data.status === 'approved') statusClass = 'transaction-approved';
if (data.status === 'rejected') statusClass = 'transaction-rejected';
item.innerHTML = `
<div>Amount: <span class="transaction-amount">Rs. ${data.amount}</span></div>
<div>Status: <span class="${statusClass}">${data.status}</span></div>
<div>Date: ${data.createdAt?.toDate().toLocaleString() || 'N/A'}</div>
`;
depositStatus.appendChild(item);
});
}
});
// Load withdrawal history
db.collection('withdraw_requests')
.where('userId', '==', currentUser.uid)
.orderBy('createdAt', 'desc')
.limit(10)
.get()
.then(querySnapshot => {
const withdrawHistory = document.getElementById('withdrawHistory');
if (withdrawHistory) {
withdrawHistory.innerHTML = '<h3><i class="fas fa-history"></i> Withdrawal History</h3>';
if (querySnapshot.empty) {
withdrawHistory.innerHTML += '<p>No withdrawal history found</p>';
return;
}
querySnapshot.forEach(doc => {
const data = doc.data();
const item = document.createElement('div');
item.className = 'transaction-item';
let statusClass = 'transaction-pending';
if (data.status === 'approved') statusClass = 'transaction-approved';
if (data.status === 'rejected') statusClass = 'transaction-rejected';
item.innerHTML = `
<div>Amount: <span class="transaction-amount">Rs. ${data.amount}</span></div>
<div>Method: ${data.method}</div>
<div>Status: <span class="${statusClass}">${data.status}</span></div>
<div>Date: ${data.createdAt?.toDate().toLocaleString() || 'N/A'}</div>
`;
withdrawHistory.appendChild(item);
});
}
// Also update withdrawal status in status section
const withdrawStatus = document.getElementById('withdrawStatus');
if (withdrawStatus) {
withdrawStatus.innerHTML = '';
if (querySnapshot.empty) {
withdrawStatus.innerHTML = '<p>No withdrawal requests found</p>';
return;
}
querySnapshot.forEach(doc => {
const data = doc.data();
const item = document.createElement('div');
item.className = 'transaction-item';
let statusClass = 'transaction-pending';
if (data.status === 'approved') statusClass = 'transaction-approved';
if (data.status === 'rejected') statusClass = 'transaction-rejected';
item.innerHTML = `
<div>Amount: <span class="transaction-amount">Rs. ${data.amount}</span></div>
<div>Status: <span class="${statusClass}">${data.status}</span></div>
<div>Date: ${data.createdAt?.toDate().toLocaleString() || 'N/A'}</div>
`;
withdrawStatus.appendChild(item);
});
}
});
// Load full transaction history
const fullHistory = document.getElementById('fullTransactionHistory');
if (fullHistory) {
fullHistory.innerHTML = '';
Promise.all([
db.collection('deposit_requests')
.where('userId', '==', currentUser.uid)
.orderBy('createdAt', 'desc')
.limit(10)
.get(),
db.collection('withdraw_requests')
.where('userId', '==', currentUser.uid)
.orderBy('createdAt', 'desc')
.limit(10)
.get()
])
.then(([deposits, withdrawals]) => {
const allTransactions = [];
deposits.forEach(doc => {
const data = doc.data();
allTransactions.push({
type: 'deposit',
amount: data.amount,
status: data.status,
date: data.createdAt,
method: data.method
});
});
withdrawals.forEach(doc => {
const data = doc.data();
allTransactions.push({
type: 'withdrawal',
amount: data.amount,
status: data.status,
date: data.createdAt,
method: data.method
});
});
allTransactions.sort((a, b) => (b.date?.seconds || 0) - (a.date?.seconds || 0));
if (allTransactions.length === 0) {
fullHistory.innerHTML = '<p>No transaction history found</p>';
return;
}
allTransactions.forEach(trans => {
const item = document.createElement('div');
item.className = 'transaction-item';
let statusClass = 'transaction-pending';
if (trans.status === 'approved') statusClass = 'transaction-approved';
if (trans.status === 'rejected') statusClass = 'transaction-rejected';
item.innerHTML = `
<div>Type: ${trans.type === 'deposit' ? 'Deposit' : 'Withdrawal'}</div>
<div>Amount: <span class="transaction-amount">Rs. ${trans.amount}</span></div>
<div>Method: ${trans.method}</div>
<div>Status: <span class="${statusClass}">${trans.status}</span></div>
<div>Date: ${trans.date?.toDate().toLocaleString() || 'N/A'}</div>
`;
fullHistory.appendChild(item);
});
});
}
}
  // Navigation functions
function showSection(section) {
document.querySelectorAll('.section').forEach(sec => {
sec.style.display = 'none';
});
switch(section) {
case 'home':
document.getElementById('homeSection').style.display = 'block';
break;
case 'deposit':
if (!currentUser) {
showAuthModal('login');
return;
}
document.getElementById('depositSection').style.display = 'block';
break;
case 'withdraw':
if (!currentUser) {
showAuthModal('login');
return;
}
document.getElementById('withdrawSection').style.display = 'block';
break;
case 'vip':
if (!currentUser) {
showAuthModal('login');
return;
}
document.getElementById('vipSection').style.display = 'block';
if (document.getElementById('userReferralCode').textContent === 'Login to see your code') {
loadUserData();
}
break;
case 'status':
if (!currentUser) {
showAuthModal('login');
return;
}
document.getElementById('statusSection').style.display = 'block';
loadTransactionHistory();
break;
case 'admin':
if (!currentUser) {
showAuthModal('login');
return;
}
db.collection('users').doc(currentUser.uid).get()
.then(doc => {
if (doc.exists) {
const userData = doc.data();
if (userData.email === 'cptanil1995@gmail.com' || userData.email === 'auk5562@gmail.com' || userData.email === 'kafe2999@gmail.com') {
document.getElementById('adminSection').style.display = 'block';
loadAdminData();
} else {
showMessage('Access denied. Admin only.', 'error');
showSection('home');
}
}
});
break;
}
}
// Game setup
function setupGames() {
setupScratchGame();
setupFruitGame();
setupTicTacToeGame();
setupFindAceGame();
setupArcheryGame();
}
// Scratch Game
let icons = ['🐄', '🐔', '🐱', '🐶', '🐭'];
let cardData = [];
let flippedCards = [];
let scratchChances = 4;
function setupScratchGame() {
icons = ['🐄', '🐔', '🐱', '🐶', '🐭'];
cardData = [];
flippedCards = [];
}
function startCardGame() {
showGameModal('scratch');
}
function setupCards() {
flippedCards = [];
cardData = [];
gameStarted = false;
scratchChances = 4;
const grid = document.getElementById('cardGrid');
grid.classList.remove('shake', 'glow');
grid.innerHTML = '';
document.getElementById("particles-js").style.display = "none";
document.getElementById("result").innerText = '';
let allIcons = [];
for(let i=0;i<3;i++) allIcons.push('🐄');
for(let i=0;i<3;i++) allIcons.push('🐔');
for(let i=0;i<3;i++) allIcons.push('🐶');
allIcons = shuffleArray(allIcons);
allIcons.forEach((icon) => {
const card = document.createElement('div');
card.className = 'card';
const front = document.createElement('div');
front.className = 'front';
front.textContent = icon;
const back = document.createElement('div');
back.className = 'back';
card.appendChild(front);
card.appendChild(back);
card.dataset.icon = icon;
grid.appendChild(card);
cardData.push({ element: card, icon: icon });
});
}
function selectBet(amount) {
if (gameStarted) return;
if (balance < amount) {
showMessage('Insufficient balance! Please deposit more to play.', 'error');
return;
}
selectedBet = amount;
document.querySelectorAll('#scratchGame .bet-amounts .gold-box').forEach(btn => btn.classList.remove('active'));
event.target.classList.add('active');
balance -= amount;
updateUserBalance(balance);
updateBalanceDisplay();
revealAndShuffleCards();
}
function revealAndShuffleCards() {
const grid = document.getElementById('cardGrid');
setupCards();
cardData.forEach(data => {
data.element.querySelector('.front').style.display = 'flex';
data.element.classList.add('flipped');
});
setTimeout(() => {
initScratchShuffle();
if (scratchShuffle) {
scratchShuffle.shuffle().then(() => {
grid.innerHTML = '';
cardData.forEach(data => {
data.element.querySelector('.front').style.display = 'none';
data.element.classList.remove('flipped');
data.element.onclick = () => flipCard(data.element);
grid.appendChild(data.element);
});
gameStarted = true;
});
}
}, 2000);
}
function flipCard(card) {
if (!selectedBet) {
showMessage("Please select a bet amount before starting!", 'error');
return;
}
if (flippedCards.includes(card) || flippedCards.length >= 2) return;
if (!gameStarted) return;
card.classList.add('flipped');
card.querySelector('.front').style.display = 'flex';
flipSound.currentTime = 0;
flipSound.play().catch(() => {});
flippedCards.push(card);
if (flippedCards.length === 2) {
scratchChances--;
setTimeout(checkWin, 1000);
}
}
function checkWin() {
const iconsPicked = flippedCards.map(c => c.dataset.icon);
const result = document.getElementById('result');
const grid = document.getElementById('cardGrid');
if (iconsPicked[0] === iconsPicked[1]) {
flippedCards = [];
const allFlipped = document.querySelectorAll('.card.flipped');
if (allFlipped.length >= 8) {
const winAmount = selectedBet * 2;
balance += winAmount;
updateUserBalance(balance);
result.innerText = `🎉 You won! Rs. ${winAmount} added.`;
grid.classList.add('glow');
document.getElementById('winSound').play().catch(() => {});
document.getElementById("particles-js").style.display = "block";
setTimeout(() => {
document.getElementById("particles-js").style.display = "none";
setupCards();
}, 2500);
}
} else {
setTimeout(() => {
flippedCards.forEach(card => {
card.classList.remove('flipped');
card.querySelector('.front').style.display = 'none';
});
flippedCards = [];
if (scratchChances <= 0) {
result.innerText = `❌ You lost! Rs. ${selectedBet} deducted.`;
grid.classList.add('shake');
document.getElementById('loseSound').play().catch(() => {});
setTimeout(() => {
result.innerText = '';
setupCards();
if (balance <= 0) {
showMessage("Your balance is too low. Please deposit to play again.", 'error');
document.getElementById('scratchGame').style.display = 'none';
}
}, 2500);
} else {
result.innerText = `Chances left: ${scratchChances}`;
setTimeout(() => {
result.innerText = '';
}, 1000);
}
}, 1000);
}
updateBalanceDisplay();
}
function updateUserBalance(newBalance) {
if (!currentUser) return;
db.collection('users').doc(currentUser.uid).update({
balance: newBalance
})
.catch(error => {
console.error('Error updating balance:', error);
});
}
// Fruit Game
const colors = ["red", "green", "yellow", "blue", "purple"];
const fruits = {
red: "🍎",
green: "🍏",
yellow: "🍋",
blue: "🍇",
purple: "🍆"
};
const durations = {
20: 8000,
50: 15000,
100: 30000,
150: 45000,
200: 60000
};
let targetColor = "";
let fruitScore = 0;
let fruitGameInterval, fruitGameTimer, fruitCountdownInterval;
let fruitGameStarted = false;
let fruitSelectedBet = 0;
function setupFruitGame() {
setNewFruitTarget();
}
function startFruitGame() {
showGameModal('fruit');
}
function setNewFruitTarget() {
targetColor = colors[Math.floor(Math.random() * colors.length)];
document.getElementById("fruitTargetDisplay").innerHTML = `Target: Shoot the <b style="color:${targetColor};">${targetColor.toUpperCase()}</b> Fruit ${fruits[targetColor]}`;
}
function spawnFruit() {
const shootArea = document.getElementById("shootArea");
if (shootArea.childElementCount >= 10) return;
const fruit = document.createElement("div");
fruit.classList.add("fruit");
const isTarget = Math.random() < 0.40;
const color = isTarget ? targetColor : colors[Math.floor(Math.random() * colors.length)];
fruit.style.color = color;
fruit.innerText = fruits[color];
const size = Math.random() * 30 + 20;
fruit.style.fontSize = `${size}px`;
const x = Math.random() * (shootArea.clientWidth - 40);
fruit.style.left = `${x}px`;
fruit.style.top = "-30px";
fruit.addEventListener("click", () => {
if (!fruitGameStarted || fruit.clicked) return;
fruit.clicked = true;
if (color === targetColor) {
fruitScore++;
} else {
fruitScore = Math.max(0, fruitScore - 2);
}
document.getElementById("fruitScoreDisplay").textContent = `Score: ${fruitScore}`;
fruit.remove();
});
shootArea.appendChild(fruit);
let top = -30;
const fallSpeed = setInterval(() => {
top += 15;
fruit.style.top = `${top}px`;
if (top > shootArea.clientHeight) {
clearInterval(fallSpeed);
fruit.remove();
}
}, 50);
}
function startFruitRound(amount) {
if (fruitGameStarted || balance < amount) {
if (balance < amount) {
showMessage("Insufficient balance! Please deposit more to play.", 'error');
}
return;
}
balance -= amount;
updateUserBalance(balance);
updateBalanceDisplay();
document.getElementById("shootArea").innerHTML = "";
clearInterval(fruitGameInterval);
clearInterval(fruitCountdownInterval);
clearTimeout(fruitGameTimer);
fruitScore = 0;
document.getElementById("fruitScoreDisplay").innerText = "Score: 0";
setNewFruitTarget();
fruitSelectedBet = amount;
fruitGameStarted = true;
document.querySelectorAll('#fruitGame .bet-amounts .gold-box').forEach(btn => {
btn.style.pointerEvents = "none";
btn.style.opacity = "0.4";
});
let timeLeft = durations[amount] / 1000;
document.getElementById("fruitCountdown").innerText = `Time: ${timeLeft}s`;
fruitCountdownInterval = setInterval(() => {
timeLeft--;
document.getElementById('fruitCountdown').innerText = `Time: ${timeLeft}s`;
if (timeLeft <= 0) clearInterval(fruitCountdownInterval);
}, 1000);
fruitGameInterval = setInterval(spawnFruit, 200);
fruitGameTimer = setTimeout(() => {
clearInterval(fruitGameInterval);
clearInterval(fruitCountdownInterval);
fruitGameStarted = false;
let winAmount = 0;
if (fruitScore >= Math.floor(fruitSelectedBet * 1.5)) {
winAmount = fruitSelectedBet * 2;
balance += winAmount;
updateUserBalance(balance);
showMessage(`🎉 Congratulations! You scored ${fruitScore} points (Target: ${Math.floor(fruitSelectedBet * 1.5)}).\nYou won Rs. ${winAmount}!\nNew Balance: Rs. ${balance}`, 'success');
document.getElementById('winSound').play().catch(() => {});
} else {
showMessage(`❌ Game Over! You scored ${fruitScore} points (Target: ${Math.floor(fruitSelectedBet * 1.5)}).\nYou lost your bet of Rs. ${fruitSelectedBet}.\nNew Balance: Rs. ${balance}`, 'error');
document.getElementById('loseSound').play().catch(() => {});
}
updateBalanceDisplay();
document.querySelectorAll('#fruitGame .bet-amounts .gold-box').forEach(btn => {
btn.style.pointerEvents = "auto";
btn.style.opacity = "1";
});
document.getElementById("shootArea").innerHTML = "";
document.getElementById("fruitScoreDisplay").innerText = "";
document.getElementById("fruitCountdown").innerText = "Time: 0s";
setNewFruitTarget();
}, durations[amount]);
}
  // Tic Tac Toe Game
let ticTacToeBet = 0;
let tttBoard = [];
let tttPlayer = 'X';
let tttGameActive = false;
let tttCountdown = null;
function setupTicTacToeGame() {
tttBoard = Array(9).fill('');
tttPlayer = 'X';
tttGameActive = false;
}
function startTicTacToeGame() {
showGameModal('tictactoe');
}
function selectTicTacToeBet(amount) {
if (tttGameActive) return;
if (balance < amount) {
showMessage('Insufficient balance! Please deposit more to play.', 'error');
return;
}
ticTacToeBet = amount;
document.querySelectorAll('#tictactoeGame .bet-amounts .gold-box').forEach(btn => btn.classList.remove('active'));
event.target.classList.add('active');
balance -= ticTacToeBet;
updateUserBalance(balance);
updateBalanceDisplay();
startTicTacToeRound();
}
function startTicTacToeRound() {
tttBoard = Array(9).fill('');
tttPlayer = 'X';
tttGameActive = true;
renderTicTacToeBoard();
let timeLeft = 30;
document.getElementById('tictactoeCountdown').innerText = `Time: ${timeLeft}s`;
clearInterval(tttCountdown);
tttCountdown = setInterval(() => {
timeLeft--;
document.getElementById('tictactoeCountdown').innerText = `Time: ${timeLeft}s`;
if (timeLeft <= 0) {
clearInterval(tttCountdown);
tttGameActive = false;
endTicTacToe('lose', 'Time out! You lost your bet.');
}
}, 1000);
}
function renderTicTacToeBoard() {
const board = document.getElementById('ticTacToeBoard');
board.innerHTML = '';
tttBoard.forEach((cell, idx) => {
const div = document.createElement('div');
div.className = 'tic-tac-toe-cell';
if (cell === 'X') div.classList.add('x');
if (cell === 'O') div.classList.add('o');
div.innerText = cell;
div.onclick = () => handleTicTacToeClick(idx);
board.appendChild(div);
});
}
function handleTicTacToeClick(idx) {
if (!tttGameActive || tttBoard[idx] !== '') return;
tttBoard[idx] = tttPlayer;
renderTicTacToeBoard();
const winner = checkTicTacToeWinner();
if (winner) {
clearInterval(tttCountdown);
tttGameActive = false;
if (winner === 'X') {
endTicTacToe('win', 'You win! Rs. ' + (ticTacToeBet * 2) + ' added.');
} else if (winner === 'O') {
endTicTacToe('lose', 'AI wins! You lost your bet.');
}
return;
}
if (tttBoard.every(cell => cell !== '')) {
clearInterval(tttCountdown);
tttGameActive = false;
endTicTacToe('draw', 'Draw! Bet returned.');
return;
}
// AI Move
setTimeout(aiMoveTicTacToe, 500);
}
function aiMoveTicTacToe() {
let empty = [];
for (let i = 0; i < 9; i++) if (tttBoard[i] === '') empty.push(i);
if (empty.length === 0) return;
const move = empty[Math.floor(Math.random() * empty.length)];
tttBoard[move] = 'O';
renderTicTacToeBoard();
const winner = checkTicTacToeWinner();
if (winner) {
clearInterval(tttCountdown);
tttGameActive = false;
if (winner === 'O') {
endTicTacToe('lose', 'AI wins! You lost your bet.');
} else if (winner === 'X') {
endTicTacToe('win', 'You win! Rs. ' + (ticTacToeBet * 2) + ' added.');
}
return;
}
if (tttBoard.every(cell => cell !== '')) {
clearInterval(tttCountdown);
tttGameActive = false;
endTicTacToe('draw', 'Draw! Bet returned.');
}
}
function checkTicTacToeWinner() {
const combos = [
[0,1,2],[3,4,5],[6,7,8],
[0,3,6],[1,4,7],[2,5,8],
[0,4,8],[2,4,6]
];
for (const combo of combos) {
const [a,b,c] = combo;
if (tttBoard[a] && tttBoard[a] === tttBoard[b] && tttBoard[a] === tttBoard[c]) {
return tttBoard[a];
}
}
return null;
}
function endTicTacToe(result, msg) {
const resultDiv = document.getElementById('tictactoeResult');
if (result === 'win') {
balance += ticTacToeBet * 2;
updateUserBalance(balance);
resultDiv.innerText = msg;
document.getElementById('winSound').play().catch(()=>{});
} else if (result === 'draw') {
balance += ticTacToeBet;
updateUserBalance(balance);
resultDiv.innerText = msg;
} else {
resultDiv.innerText = msg;
document.getElementById('loseSound').play().catch(()=>{});
}
updateBalanceDisplay();
setTimeout(() => {
resultDiv.innerText = '';
renderTicTacToeBoard();
}, 2500);
}
// Find Ace Game
let findAceBet = 0;
let findAceChances = 2;
let aceIndex = 0;
let findAceFlipped = [];
let findAceGameActive = false;
let findAceCountdown = null;
function setupFindAceGame() {
findAceFlipped = [];
findAceGameActive = false;
findAceChances = 2;
}
function startFindAceGame() {
showGameModal('findace');
}
function startFindAceRound(amount) {
if (findAceGameActive || balance < amount) {
if (balance < amount) showMessage("Insufficient balance! Please deposit more to play.", 'error');
return;
}
findAceBet = amount;
balance -= amount;
updateUserBalance(balance);
updateBalanceDisplay();
document.querySelectorAll('#findAceGame .bet-amounts .gold-box').forEach(btn => btn.classList.remove('active'));
event.target.classList.add('active');
findAceFlipped = [];
findAceGameActive = true;
findAceChances = 2;
const grid = document.getElementById('findAceGrid');
grid.innerHTML = '';
aceIndex = Math.floor(Math.random() * 6);
for (let i = 0; i < 6; i++) {
const card = document.createElement('div');
card.className = 'card';
const front = document.createElement('div');
front.className = 'front';
front.textContent = i === aceIndex ? 'A♠️' : '🃏';
const back = document.createElement('div');
back.className = 'back';
card.appendChild(front);
card.appendChild(back);
card.onclick = () => flipFindAceCard(card, i);
grid.appendChild(card);
}
let timeLeft = 15;
document.getElementById('findAceCountdown').innerText = `Time: ${timeLeft}s`;
clearInterval(findAceCountdown);
findAceCountdown = setInterval(() => {
timeLeft--;
document.getElementById('findAceCountdown').innerText = `Time: ${timeLeft}s`;
if (timeLeft <= 0) {
clearInterval(findAceCountdown);
findAceGameActive = false;
endFindAce('lose', 'Time out! You lost your bet.');
}
}, 1000);
}
function flipFindAceCard(card, idx) {
if (!findAceGameActive || findAceFlipped.includes(card) || findAceFlipped.length >= findAceChances) return;
card.classList.add('flipped');
card.querySelector('.front').style.display = 'flex';
findAceFlipped.push(card);
document.getElementById('flipSound').play().catch(()=>{});
if (idx === aceIndex) {
clearInterval(findAceCountdown);
findAceGameActive = false;
setTimeout(() => {
endFindAce('win', 'You found the Ace! Rs. ' + (findAceBet * 2) + ' added.');
}, 700);
} else if (findAceFlipped.length === findAceChances) {
clearInterval(findAceCountdown);
findAceGameActive = false;
setTimeout(() => {
endFindAce('lose', 'Not the Ace! You lost your bet.');
}, 700);
}
}
function endFindAce(result, msg) {
const resultDiv = document.getElementById('findAceResult');
if (result === 'win') {
balance += findAceBet * 2;
updateUserBalance(balance);
resultDiv.innerText = msg;
document.getElementById('winSound').play().catch(()=>{});
} else {
resultDiv.innerText = msg;
document.getElementById('loseSound').play().catch(()=>{});
}
updateBalanceDisplay();
setTimeout(() => {
resultDiv.innerText = '';
setupFindAceGame();
const grid = document.getElementById('findAceGrid');
grid.innerHTML = '';
}, 2500);
}
// Archery Game
let archeryBet = 0;
let archeryScoreArr = [];
let archeryShots = 0;
let archeryGameActive = false;
let archeryAuto = false;
function setupArcheryGame() {
archeryScoreArr = [];
archeryShots = 0;
archeryGameActive = false;
archeryAuto = false;
document.getElementById('archeryAutoBtn').textContent = 'Auto: OFF';
}
function startArcheryGame() {
showGameModal('archery');
}
function selectArcheryBet(amount) {
if (archeryGameActive || balance < amount) {
if (balance < amount) showMessage("Insufficient balance! Please deposit more to play.", 'error');
return;
}
archeryBet = amount;
document.querySelectorAll('#archeryGame .bet-amounts .gold-box').forEach(btn => btn.classList.remove('active'));
event.target.classList.add('active');
balance -= archeryBet;
updateUserBalance(balance);
updateBalanceDisplay();
archeryScoreArr = [];
archeryShots = 0;
archeryGameActive = true;
renderArchery();
}
function renderArchery() {
const canvas = document.getElementById('archeryCanvas');
const ctx = canvas.getContext('2d');
ctx.clearRect(0, 0, canvas.width, canvas.height);
// Draw target
const colors = ['#FFD700', '#FF6347', '#2563EB', '#1E3A8A', '#111'];
[200, 150, 100, 60, 30].forEach((r, i) => {
ctx.beginPath();
ctx.arc(260, 260, r, 0, Math.PI * 2);
ctx.fillStyle = colors[i];
ctx.fill();
});
// Draw shots
archeryScoreArr.forEach(shot => {
ctx.beginPath();
ctx.arc(shot.x, shot.y, 7, 0, Math.PI * 2);
ctx.fillStyle = 'lime';
ctx.fill();
});
}
// Handle archery click
document.getElementById('archeryCanvas').onclick = function(e) {
if (!archeryGameActive || archeryShots >= 5) return;
const rect = this.getBoundingClientRect();
const x = e.clientX - rect.left;
const y = e.clientY - rect.top;
archeryScoreArr.push({x, y});
archeryShots++;
renderArchery();
if (archeryShots === 5) {
endArcheryRound();
}
};
function endArcheryRound() {
archeryGameActive = false;
let totalScore = 0;
archeryScoreArr.forEach(shot => {
const dx = shot.x - 260;
const dy = shot.y - 260;
const dist = Math.sqrt(dx*dx + dy*dy);
if (dist <= 30) totalScore += 50;
else if (dist <= 60) totalScore += 30;
else if (dist <= 100) totalScore += 20;
else if (dist <= 150) totalScore += 10;
else if (dist <= 200) totalScore += 5;
});
const winTarget = archeryBet * 2;
const status = document.getElementById('archeryStatus');
if (totalScore >= winTarget) {
const winAmount = archeryBet * 2;
balance += winAmount;
updateUserBalance(balance);
status.textContent = `🎯 You scored ${totalScore}! You win Rs. ${winAmount}.`;
document.getElementById('winSound').play().catch(()=>{});
} else {
status.textContent = `You scored ${totalScore}. You lost your bet.`;
document.getElementById('loseSound').play().catch(()=>{});
}
updateBalanceDisplay();
setTimeout(() => {
status.textContent = 'Pick a bet to start';
setupArcheryGame();
renderArchery();
}, 2500);
}
function resetArcheryGame() {
setupArcheryGame();
renderArchery();
}
function toggleArcheryAuto() {
archeryAuto = !archeryAuto;
document.getElementById('archeryAutoBtn').textContent = `Auto: ${archeryAuto ? 'ON' : 'OFF'}`;
if (archeryAuto && archeryGameActive) archeryAutoPlay();
}
function archeryAutoPlay() {
if (!archeryAuto || !archeryGameActive || archeryShots >= 5) return;
const x = 260 + (Math.random() - 0.5) * 50;
const y = 260 + (Math.random() - 0.5) * 50;
archeryScoreArr.push({x, y});
archeryShots++;
renderArchery();
if (archeryShots === 5) {
endArcheryRound();
} else {
setTimeout(archeryAutoPlay, 800);
}
}
// Chess Game Modal
let chess, board, chessTimer, chessTimeLeft = 60;
function startChessGameModal() {
showGameModal('chess');
}
function setupChessGame() {
chess = new Chess();
board = Chessboard('chessGameBoard', {
position: 'start',
draggable: true,
onDrop: handleChessDrop
});
chessTimeLeft = 60;
document.getElementById('chessTimer').textContent = `Time: ${chessTimeLeft}s`;
clearInterval(chessTimer);
chessTimer = setInterval(() => {
chessTimeLeft--;
document.getElementById('chessTimer').textContent = `Time: ${chessTimeLeft}s`;
if (chessTimeLeft <= 0) {
clearInterval(chessTimer);
endChessGame('lose');
}
}, 1000);
}
function handleChessDrop(source, target) {
const move = chess.move({ from: source, to: target, promotion: 'q' });
if (move === null) return 'snapback';
board.position(chess.fen());
setTimeout(chessAIMove, 400);
if (chess.game_over()) endChessGame('win');
}
function chessAIMove() {
const moves = chess.moves();
if (moves.length === 0) return endChessGame('win');
const move = moves[Math.floor(Math.random() * moves.length)];
chess.move(move);
board.position(chess.fen());
if (chess.game_over()) endChessGame('lose');
}
function endChessGame(result) {
clearInterval(chessTimer);
const status = document.getElementById('chessStatus');
if (result === 'win') {
balance += 200;
updateUserBalance(balance);
status.textContent = 'You won! Rs. 200 added.';
document.getElementById('winSound').play().catch(()=>{});
} else {
status.textContent = 'You lost. Try again!';
document.getElementById('loseSound').play().catch(()=>{});
}
updateBalanceDisplay();
setTimeout(() => {
status.textContent = '';
setupChessGame();
}, 2500);
}
// Game Modal logic
function showGameModal(game) {
document.getElementById('gameModal').style.display = 'flex';
const inner = document.getElementById('gameInnerContainer');
inner.innerHTML = '';
let content = '';
if (game === 'scratch') {
document.getElementById('scratchGame').style.display = 'block';
setupCards();
content = document.getElementById('scratchGame').outerHTML;
} else if (game === 'fruit') {
document.getElementById('fruitGame').style.display = 'block';
setupFruitGame();
content = document.getElementById('fruitGame').outerHTML;
} else if (game === 'tictactoe') {
document.getElementById('tictactoeGame').style.display = 'block';
setupTicTacToeGame();
renderTicTacToeBoard();
content = document.getElementById('tictactoeGame').outerHTML;
} else if (game === 'findace') {
document.getElementById('findAceGame').style.display = 'block';
setupFindAceGame();
content = document.getElementById('findAceGame').outerHTML;
} else if (game === 'archery') {
document.getElementById('archeryGame').style.display = 'block';
setupArcheryGame();
renderArchery();
content = document.getElementById('archeryGame').outerHTML;
} else if (game === 'chess') {
content = `
<div id="chessGameBoard" style="width:400px;margin:20px auto;"></div>
<div id="chessStatus"></div>
<div id="chessTimer"></div>
`;
setTimeout(setupChessGame, 100);
}
inner.innerHTML = content;
}
function closeGameModal() {
document.getElementById('gameModal').style.display = 'none';
['scratchGame', 'fruitGame', 'tictactoeGame', 'findAceGame', 'archeryGame'].forEach(id => {
document.getElementById(id).style.display = 'none';
});
}
// Utility Functions
function shuffleArray(array) {
for (let i = array.length - 1; i > 0; i--) {
const j = Math.floor(Math.random() * (i + 1));
[array[i], array[j]] = [array[j], array[i]];
}
return array;
}
// Announcement and Messaging
function toggleMessages() {
const popup = document.getElementById('messagePopup');
popup.style.display = (popup.style.display === 'block') ? 'none' : 'block';
}
function closeMessages() {
document.getElementById('messagePopup').style.display = 'none';
}
function loadAnnouncements() {
db.collection('announcements').orderBy('createdAt', 'desc').limit(10).get()
.then(querySnapshot => {
const messageList = document.getElementById('messageList');
messageList.innerHTML = '';
let unreadCount = 0;
querySnapshot.forEach(doc => {
const data = doc.data();
const item = document.createElement('div');
item.className = 'message-item';
item.innerHTML = `<div>${data.message}</div><div class="message-date">${data.createdAt?.toDate().toLocaleString() || ''}</div>`;
messageList.appendChild(item);
unreadCount++;
});
if (unreadCount > 0) {
document.getElementById('messageNotification').style.display = 'flex';
document.getElementById('messageNotification').innerText = unreadCount;
} else {
document.getElementById('messageNotification').style.display = 'none';
}
});
}
function sendAnnouncement() {
const msg = document.getElementById('announcementText').value.trim();
if (!msg) {
showMessage('Enter your announcement', 'error');
return;
}
db.collection('announcements').add({
message: msg,
createdAt: firebase.firestore.FieldValue.serverTimestamp()
})
.then(() => {
showMessage('Announcement sent!', 'success');
document.getElementById('announcementText').value = '';
loadAnnouncements();
})
.catch(error => {
showMessage('Error sending announcement: ' + error.message, 'error');
});
}
// Admin Data
function loadAdminData() {
db.collection('users').orderBy('createdAt', 'desc').limit(30).get()
.then(querySnapshot => {
const usersTable = document.getElementById('usersTable');
usersTable.innerHTML = '';
querySnapshot.forEach(doc => {
const data = doc.data();
const row = document.createElement('tr');
row.innerHTML = `
<td>${data.name || 'N/A'}</td>
<td>${data.email || 'N/A'}</td>
<td>${data.startingBalance || 0}</td>
<td>${data.balance || 0}</td>
<td>
<button class="admin-action" onclick="adjustBalance('${doc.id}', 100)">+100</button>
<button class="admin-action" onclick="adjustBalance('${doc.id}', -100)">-100</button>
</td>
`;
usersTable.appendChild(row);
});
});
// Load Deposit Requests
db.collection('deposit_requests').orderBy('createdAt', 'desc').limit(30).get()
.then(querySnapshot => {
const table = document.getElementById('depositRequestsTable');
table.innerHTML = '';
querySnapshot.forEach(doc => {
const data = doc.data();
const row = document.createElement('tr');
row.innerHTML = `
<td>${data.userName || 'N/A'}</td>
<td>${data.amount}</td>
<td>${data.method}</td>
<td>${data.transactionId}</td>
<td>${data.status}</td>
<td>${data.createdAt?.toDate().toLocaleString() || ''}</td>
<td>
<button class="admin-action" onclick="approveDeposit('${doc.id}')">Approve</button>
<button class="admin-action reject" onclick="rejectDeposit('${doc.id}')">Reject</button>
</td>
`;
table.appendChild(row);
});
});
// Load Withdrawal Requests
db.collection('withdraw_requests').orderBy('createdAt', 'desc').limit(30).get()
.then(querySnapshot => {
const table = document.getElementById('withdrawRequestsTable');
table.innerHTML = '';
querySnapshot.forEach(doc => {
const data = doc.data();
const row = document.createElement('tr');
row.innerHTML = `
<td>${data.userName || 'N/A'}</td>
<td>${data.amount}</td>
<td>${data.method}</td>
<td>${data.accountNumber} (${data.accountName})</td>
<td>${data.status}</td>
<td>${data.createdAt?.toDate().toLocaleString() || ''}</td>
<td>
<button class="admin-action" onclick="approveWithdraw('${doc.id}', '${data.userId}', ${data.amount})">Approve</button>
<button class="admin-action reject" onclick="rejectWithdraw('${doc.id}')">Reject</button>
</td>
`;
table.appendChild(row);
});
});
}
function adjustBalance(userId, amount) {
db.collection('users').doc(userId).get()
.then(doc => {
if (!doc.exists) return;
let user = doc.data();
let newBalance = (user.balance || 0) + amount;
if (newBalance < 0) newBalance = 0;
return db.collection('users').doc(userId).update({ balance: newBalance });
})
.then(() => {
showMessage('Balance updated', 'success');
loadAdminData();
});
}
function approveDeposit(requestId) {
db.collection('deposit_requests').doc(requestId).get()
.then(doc => {
if (!doc.exists) return;
const data = doc.data();
db.collection('deposit_requests').doc(requestId).update({ status: 'approved' });
db.collection('users').doc(data.userId).update({
balance: firebase.firestore.FieldValue.increment(data.amount),
depositCount: firebase.firestore.FieldValue.increment(1)
});
})
.then(() => {
showMessage('Deposit approved', 'success');
loadAdminData();
});
}
function rejectDeposit(requestId) {
db.collection('deposit_requests').doc(requestId).update({ status: 'rejected' })
.then(() => {
showMessage('Deposit rejected', 'success');
loadAdminData();
});
}
function approveWithdraw(requestId, userId, amount) {
db.collection('withdraw_requests').doc(requestId).update({ status: 'approved' })
.then(() => {
showMessage('Withdrawal approved', 'success');
loadAdminData();
// Deduct balance if not already deducted
db.collection('users').doc(userId).get().then(doc => {
if (!doc.exists) return;
let user = doc.data();
if ((user.balance || 0) >= amount) {
db.collection('users').doc(userId).update({ balance: user.balance - amount });
}
});
});
}
function rejectWithdraw(requestId) {
db.collection('withdraw_requests').doc(requestId).update({ status: 'rejected' })
.then(() => {
showMessage('Withdrawal rejected', 'success');
loadAdminData();
});
}
function searchUsers() {
const query = document.getElementById('searchUser').value.trim().toLowerCase();
db.collection('users').orderBy('createdAt', 'desc').limit(30).get()
.then(querySnapshot => {
const usersTable = document.getElementById('usersTable');
usersTable.innerHTML = '';
querySnapshot.forEach(doc => {
const data = doc.data();
if (
(data.name && data.name.toLowerCase().includes(query)) ||
(data.email && data.email.toLowerCase().includes(query))
) {
const row = document.createElement('tr');
row.innerHTML = `
<td>${data.name || 'N/A'}</td>
<td>${data.email || 'N/A'}</td>
<td>${data.startingBalance || 0}</td>
<td>${data.balance || 0}</td>
<td>
<button class="admin-action" onclick="adjustBalance('${doc.id}', 100)">+100</button>
<button class="admin-action" onclick="adjustBalance('${doc.id}', -100)">-100</button>
</td>
`;
usersTable.appendChild(row);
}
});
});
}
// Particles.js for fireworks
particlesJS("particles-js", {
"particles": {
"number": { "value": 80, "density": { "enable": true, "value_area": 800 } },
"color": { "value": "#2563EB" },
"shape": { "type": "circle" },
"opacity": { "value": 0.6, "random": true },
"size": { "value": 4, "random": true },
"move": { "enable": true, "speed": 8, "direction": "none", "random": true, "straight": false, "out_mode": "out" }
},
"interactivity": {
"detect_on": "canvas",
"events": {
"onhover": { "enable": false, "mode": "repulse" },
"onclick": { "enable": false, "mode": "push" },
"resize": true
}
},
"retina_detect": true
});
</script>
</body>
</html>
